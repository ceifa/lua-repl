/*! For license information please see 6043.app.js.LICENSE.txt */
(self.webpackChunktry_lua=self.webpackChunktry_lua||[]).push([[6043],{8334:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n.p+"c6b33f5a2a1e0815b6208e2daa1c3529.wasm"},6542:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){return new(n||(n=Promise))((function(u,a){function l(e){try{s(r.next(e))}catch(e){a(e)}}function i(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?u(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))}var r;e.LuaReturn=void 0,(r=e.LuaReturn||(e.LuaReturn={}))[r.Ok=0]="Ok",r[r.Yield=1]="Yield",r[r.ErrorRun=2]="ErrorRun",r[r.ErrorSyntax=3]="ErrorSyntax",r[r.ErrorMem=4]="ErrorMem",r[r.ErrorErr=5]="ErrorErr",r[r.ErrorFile=6]="ErrorFile";const u=1e6,a=-1001e3;var l,i,s,o;e.LuaType=void 0,(o=e.LuaType||(e.LuaType={}))[o.None=-1]="None",o[o.Nil=0]="Nil",o[o.Boolean=1]="Boolean",o[o.LightUserData=2]="LightUserData",o[o.Number=3]="Number",o[o.String=4]="String",o[o.Table=5]="Table",o[o.Function=6]="Function",o[o.UserData=7]="UserData",o[o.Thread=8]="Thread",e.LuaEventCodes=void 0,(s=e.LuaEventCodes||(e.LuaEventCodes={}))[s.Call=0]="Call",s[s.Ret=1]="Ret",s[s.Line=2]="Line",s[s.Count=3]="Count",s[s.TailCall=4]="TailCall",e.LuaEventMasks=void 0,(i=e.LuaEventMasks||(e.LuaEventMasks={}))[i.Call=1]="Call",i[i.Ret=2]="Ret",i[i.Line=4]="Line",i[i.Count=8]="Count",e.LuaLibraries=void 0,(l=e.LuaLibraries||(e.LuaLibraries={})).Base="_G",l.Coroutine="coroutine",l.Table="table",l.IO="io",l.OS="os",l.String="string",l.UTF8="utf8",l.Math="math",l.Debug="debug",l.Package="package";class c extends Error{}class d{constructor(e,t){this.target=e,this.options=t}}class h extends Number{}class f extends Array{}class m{constructor(e,t,n,r){this.address=0,this.closed=!1,this.lua=e,this.typeExtensions=t,this.address=n,this.parent=r}newThread(){const e=this.lua.lua_newthread(this.address);if(!e)throw new Error("lua_newthread returned a null pointer");return new m(this.lua,this.typeExtensions,e)}resetThread(){this.assertOk(this.lua.lua_resetthread(this.address))}loadString(e){this.assertOk(this.lua.luaL_loadstring(this.address,e))}loadFile(e){this.assertOk(this.lua.luaL_loadfilex(this.address,e,null))}resume(e=0){const t=this.lua.module._malloc(4);try{return this.lua.module.setValue(t,0,"i32"),{result:this.lua.lua_resume(this.address,null,e,t),resultCount:this.lua.module.getValue(t,"i32")}}finally{this.lua.module._free(t)}}getTop(){return this.lua.lua_gettop(this.address)}setTop(e){this.lua.lua_settop(this.address,e)}remove(e){return this.lua.lua_remove(this.address,e)}setField(e,t,n){e=this.lua.lua_absindex(this.address,e),this.pushValue(n),this.lua.lua_setfield(this.address,e,t)}run(n=0,r){return t(this,void 0,void 0,(function*(){const t=this.timeout;try{void 0!==(null==r?void 0:r.timeout)&&this.setTimeout(Date.now()+r.timeout);let u=this.resume(n);for(;u.result===e.LuaReturn.Yield;){if(this.timeout&&Date.now()>this.timeout)throw u.resultCount>0&&this.pop(u.resultCount),new c("thread timeout exceeded");if(u.resultCount>0){const e=this.getValue(-1);this.pop(u.resultCount),e===Promise.resolve(e)?yield e:yield new Promise((e=>setImmediate(e)))}else yield new Promise((e=>setImmediate(e)));u=this.resume(0)}return this.assertOk(u.result),this.getStackValues()}finally{void 0!==(null==r?void 0:r.timeout)&&this.setTimeout(t)}}))}runSync(e=0){return this.assertOk(this.lua.lua_pcallk(this.address,e,-1,0,0,null)),this.getStackValues()}pop(e=1){this.lua.lua_pop(this.address,e)}call(t,...n){const r=this.lua.lua_getglobal(this.address,t);if(r!==e.LuaType.Function)throw new Error(`A function of type '${r}' was pushed, expected is ${e.LuaType.Function}`);for(const e of n)this.pushValue(e);return this.lua.lua_callk(this.address,n.length,-1,0,null),this.getStackValues()}getStackValues(){const e=this.getTop(),t=new f(e);for(let n=0;n<e;n++)t[n]=this.getValue(n+1);return t}stateToThread(e){var t;return e===(null===(t=this.parent)||void 0===t?void 0:t.address)?this.parent:new m(this.lua,this.typeExtensions,e,this.parent||this)}pushValue(e,t){const n=this.getValueDecorations(e),r=n.options;let u=n.target;if(u instanceof m)return void(1===this.lua.lua_pushthread(u.address)||this.lua.lua_xmove(u.address,this.address,1));const a=this.getTop();if(!this.typeExtensions.find((e=>e.extension.pushValue(this,n,t))))switch(null===u&&(u=void 0),typeof u){case"undefined":this.lua.lua_pushnil(this.address);break;case"number":Number.isInteger(u)?this.lua.lua_pushinteger(this.address,u):this.lua.lua_pushnumber(this.address,u);break;case"string":this.lua.lua_pushstring(this.address,u);break;case"boolean":this.lua.lua_pushboolean(this.address,u?1:0);break;default:throw new Error(`The type '${typeof u}' is not supported by Lua`)}if((null==r?void 0:r.metatable)&&this.setMetatable(r.metatable,-1),this.getTop()!==a+1)throw new Error(`pushValue expected stack size ${a+1}, got ${this.getTop()}`)}setMetatable(e,t){if(t=this.lua.lua_absindex(this.address,t),this.lua.lua_getmetatable(this.address,t)){this.pop(1);const e=this.getMetatableName(t);throw new Error(`data already has associated metatable: ${e||"unknown name"}`)}this.pushValue(e),this.lua.lua_setmetatable(this.address,t)}getMetatableName(t){const n=this.lua.luaL_getmetafield(this.address,t,"__name");if(n===e.LuaType.Nil)return;if(n!==e.LuaType.String)return void this.pop(1);const r=this.lua.lua_tolstring(this.address,-1,null);return this.pop(1),r}getValue(t,n,r){t=this.lua.lua_absindex(this.address,t);const u=this.getMetatableName(t),a=n||this.lua.lua_type(this.address,t),l=this.typeExtensions.find((e=>e.extension.isType(this,t,a,u)));if(l)return l.extension.getValue(this,t,r);switch(a){case e.LuaType.None:return;case e.LuaType.Nil:return null;case e.LuaType.Number:return this.lua.lua_tonumberx(this.address,t,null);case e.LuaType.String:return this.lua.lua_tolstring(this.address,t,null);case e.LuaType.Boolean:return Boolean(this.lua.lua_toboolean(this.address,t));case e.LuaType.Thread:return this.stateToThread(this.lua.lua_tothread(this.address,t));default:return console.warn(`The type '${this.lua.lua_typename(this.address,a)}' returned is not supported on JS`),new h(this.lua.lua_topointer(this.address,t))}}close(){this.isClosed()||(this.hookFunctionPointer&&this.lua.module.removeFunction(this.hookFunctionPointer),this.closed=!0)}setTimeout(t){t&&t>0?(this.hookFunctionPointer||(this.hookFunctionPointer=this.lua.module.addFunction((()=>{Date.now()>t&&(this.pushValue(new c("thread timeout exceeded")),this.lua.lua_error(this.address))}),"vii")),this.lua.lua_sethook(this.address,this.hookFunctionPointer,e.LuaEventMasks.Count,1e3),this.timeout=t):(this.timeout=void 0,this.lua.lua_sethook(this.address,null,0,0))}getTimeout(){return this.timeout}getPointer(e){return new h(this.lua.lua_topointer(this.address,e))}isClosed(){var e;return!this.address||this.closed||Boolean(null===(e=this.parent)||void 0===e?void 0:e.isClosed())}indexToString(e){const t=this.lua.luaL_tolstring(this.address,e,null);return this.pop(),t}dumpStack(e=console.log){const t=this.getTop();for(let n=1;n<=t;n++){const t=this.lua.lua_type(this.address,n);e(n,this.lua.lua_typename(this.address,t),this.getPointer(n),this.indexToString(n),this.getValue(n,t))}}assertOk(t){if(t!==e.LuaReturn.Ok&&t!==e.LuaReturn.Yield){const n=e.LuaReturn[t],r=new Error(`Lua Error(${n}/${t})`);if(this.getTop()>0)if(t===e.LuaReturn.ErrorMem)r.message=this.lua.lua_tolstring(this.address,-1,null);else{const e=this.getValue(-1);e instanceof Error&&(r.stack=e.stack),r.message=this.indexToString(-1)}throw r}}getValueDecorations(e){return e instanceof d?e:new d(e,{})}}class p extends m{constructor(e){const t={memoryUsed:0},n=e.module.addFunction(((n,r,u,a)=>{if(0===a&&r)return e.module._free(r),null;const l=Boolean(r)||a>u,i=r?a-u:a,s=t.memoryUsed+i;if(l&&t.memoryMax&&s>t.memoryMax)return null;const o=e.module._realloc(r,a);return o&&(t.memoryUsed=s),o}),"iiiii"),r=e.lua_newstate(n,null);if(!r)throw new Error("lua_newstate returned a null pointer");super(e,[],r),this.memoryStats=t,this.allocatorFunctionPointer=n}close(){if(!this.isClosed()){super.close(),this.lua.lua_close(this.address),this.lua.module.removeFunction(this.allocatorFunctionPointer);for(const e of this.typeExtensions)e.extension.close()}}registerTypeExtension(e,t){this.typeExtensions.push({extension:t,priority:e}),this.typeExtensions.sort(((e,t)=>t.priority-e.priority))}loadLibrary(t){switch(t){case e.LuaLibraries.Base:this.lua.luaopen_base(this.address);break;case e.LuaLibraries.Coroutine:this.lua.luaopen_coroutine(this.address);break;case e.LuaLibraries.Table:this.lua.luaopen_table(this.address);break;case e.LuaLibraries.IO:this.lua.luaopen_io(this.address);break;case e.LuaLibraries.OS:this.lua.luaopen_os(this.address);break;case e.LuaLibraries.String:case e.LuaLibraries.UTF8:this.lua.luaopen_string(this.address);break;case e.LuaLibraries.Math:this.lua.luaopen_math(this.address);break;case e.LuaLibraries.Debug:this.lua.luaopen_debug(this.address);break;case e.LuaLibraries.Package:this.lua.luaopen_package(this.address)}this.lua.lua_setglobal(this.address,t)}get(e){const t=this.lua.lua_getglobal(this.address,e);return this.getValue(-1,t)}set(e,t){this.pushValue(t),this.lua.lua_setglobal(this.address,e)}getTable(t,n){const r=this.getTop(),u=this.lua.lua_getglobal(this.address,t);try{if(u!==e.LuaType.Table)throw new TypeError(`Unexpected type in ${t}. Expected ${e.LuaType[e.LuaType.Table]}. Got ${e.LuaType[u]}.`);n(r+1)}finally{this.getTop()!==r+1&&console.warn(`getTable: expected stack size ${r} got ${this.getTop()}`),this.setTop(r)}}getMemoryUsed(){return this.memoryStats.memoryUsed}getMemoryMax(){return this.memoryStats.memoryMax}setMemoryMax(e){this.memoryStats.memoryMax=e}}class _{constructor(e,t){this.thread=e,this.name=t}isType(t,n,r,u){return r===e.LuaType.UserData&&u===this.name}getValue(e,t,n){const r=e.lua.luaL_testudata(e.address,t,this.name);if(!r)throw new Error(`data does not have the expected metatable: ${this.name}`);const u=e.lua.module.getValue(r,"*");return e.lua.getRef(u)}pushValue(t,n,r){const{target:u}=n,a=t.lua.ref(u),l=t.lua.lua_newuserdatauv(t.address,4,0);if(t.lua.module.setValue(l,a,"*"),e.LuaType.Nil===t.lua.luaL_getmetatable(t.address,this.name))throw t.pop(2),new Error(`metatable not found: ${this.name}`);return t.lua.lua_setmetatable(t.address,-2),!0}}class b extends _{constructor(t,n){if(super(t,"js_error"),this.gcPointer=t.lua.module.addFunction((n=>{const r=t.lua.luaL_checkudata(n,1,this.name),u=t.lua.module.getValue(r,"*");return t.lua.unref(u),e.LuaReturn.Ok}),"ii"),t.lua.luaL_newmetatable(t.address,this.name)){const e=t.lua.lua_gettop(t.address);t.lua.lua_pushstring(t.address,"protected metatable"),t.lua.lua_setfield(t.address,e,"__metatable"),t.lua.lua_pushcclosure(t.address,this.gcPointer,0),t.lua.lua_setfield(t.address,e,"__gc"),t.pushValue(((e,t)=>"message"===t?e.message:null)),t.lua.lua_setfield(t.address,e,"__index"),t.pushValue((e=>e.message)),t.lua.lua_setfield(t.address,e,"__tostring")}t.lua.lua_pop(t.address,1),n&&t.set("Error",{create:e=>{if(e&&"string"!=typeof e)throw new Error("message must be a string");return new Error(e)}})}pushValue(e,t){return t.target instanceof Error&&super.pushValue(e,t)}close(){this.thread.lua.module.removeFunction(this.gcPointer)}}class g{constructor(e){this.count=e}}function w(e,t){return new d(e,t)}class y extends _{constructor(t){super(t,"js_function"),this.functionRegistry="undefined"!=typeof FinalizationRegistry?new FinalizationRegistry((e=>{this.thread.isClosed()||this.thread.lua.luaL_unref(this.thread.address,a,e)})):void 0,this.functionRegistry||console.warn("FunctionTypeExtension: FinalizationRegistry not found. Memory leaks likely."),this.gcPointer=t.lua.module.addFunction((n=>{const r=t.lua.luaL_checkudata(n,1,this.name),u=t.lua.module.getValue(r,"*");return t.lua.module.removeFunction(u),e.LuaReturn.Ok}),"ii"),t.lua.luaL_newmetatable(t.address,this.name)&&(t.lua.lua_pushstring(t.address,"__gc"),t.lua.lua_pushcclosure(t.address,this.gcPointer,0),t.lua.lua_settable(t.address,-3),t.lua.lua_pushstring(t.address,"__metatable"),t.lua.lua_pushstring(t.address,"protected metatable"),t.lua.lua_settable(t.address,-3)),t.lua.lua_pop(t.address,1)}close(){this.thread.lua.module.removeFunction(this.gcPointer)}isType(t,n,r){return r===e.LuaType.Function}pushValue(e,{target:t,options:n}){if("function"!=typeof t)return!1;const r=e.lua.module.addFunction((r=>{var u;const a=e.stateToThread(r),l=a.getTop(),i=[];if(n.receiveThread&&i.push(a),n.receiveArgsQuantity)i.push(l);else for(let e=1;e<=l;e++)if(null===(u=n.rawArguments)||void 0===u?void 0:u.includes(e-1))i.push(a.getPointer(e));else{const t=a.getValue(e);1===e&&(null==n?void 0:n.self)&&t===n.self||i.push(t)}try{const e=t.apply(null==n?void 0:n.self,i);if(void 0===e)return 0;if(e instanceof g)return e.count;if(e instanceof f){for(const t of e)a.pushValue(t);return e.length}return a.pushValue(e),1}catch(e){if("longjmp"===e)throw e;return a.pushValue(e),a.lua.lua_error(a.address)}}),"ii");return this.createAndPushFunctionReference(e,r),e.lua.lua_pushcclosure(e.address,r,1),!0}getValue(t,n){var r;t.lua.lua_pushvalue(t.address,n);const u=t.lua.luaL_ref(t.address,a),l=(...n)=>{if(t.isClosed())return void console.warn("Tried to call a function after closing lua state");const r=t.lua.lua_rawgeti(t.address,a,u);if(r!==e.LuaType.Function)throw new Error(`A function of type '${r}' was pushed, expected is ${e.LuaType.Function}`);for(const e of n)t.pushValue(e);const l=t.lua.lua_pcallk(t.address,n.length,1,0,0,null);if(l===e.LuaReturn.Yield)throw new Error("cannot yield in callbacks from javascript");t.assertOk(l);const i=t.getValue(-1);return t.pop(),i};return null===(r=this.functionRegistry)||void 0===r||r.register(l,u),l}createAndPushFunctionReference(t,n){const r=t.lua.lua_newuserdatauv(t.address,4,0);if(t.lua.module.setValue(r,n,"*"),e.LuaType.Nil===t.lua.luaL_getmetatable(t.address,this.name))throw t.pop(2),new Error(`metatable not found: ${this.name}`);t.lua.lua_setmetatable(t.address,-2)}}class v extends _{constructor(t,n){if(super(t,"js_promise"),this.functionRegistry="undefined"!=typeof FinalizationRegistry?new FinalizationRegistry((e=>{this.thread.lua.module.removeFunction(e)})):void 0,this.functionRegistry||console.warn("PromiseTypeExtension: FinalizationRegistry not found. Memory leaks likely."),this.gcPointer=t.lua.module.addFunction((n=>{const r=t.lua.luaL_checkudata(n,1,this.name),u=t.lua.module.getValue(r,"*");return t.lua.unref(u),e.LuaReturn.Ok}),"ii"),t.lua.luaL_newmetatable(t.address,this.name)){const e=t.lua.lua_gettop(t.address);t.lua.lua_pushstring(t.address,"protected metatable"),t.lua.lua_setfield(t.address,e,"__metatable"),t.lua.lua_pushcclosure(t.address,this.gcPointer,0),t.lua.lua_setfield(t.address,e,"__gc"),t.pushValue({next:(e,...t)=>{if(Promise.resolve(e)!==e)throw new Error("promise has no instance data");return e.then(...t)},catch:(e,...t)=>{if(Promise.resolve(e)!==e)throw new Error("promise has no instance data");return e.catch(...t)},finally:(e,...t)=>{if(Promise.resolve(e)!==e)throw new Error("promise has no instance data");return e.finally(...t)},await:w(((e,n)=>{var r;if(Promise.resolve(n)!==n)throw new Error("promise has no instance data");let u;const a=n.then((e=>{u={status:"fulfilled",value:e}})).catch((e=>{u={status:"rejected",value:e}})),l=this.thread.lua.module.addFunction((n=>{if(!u)return t.lua.lua_yieldk(e.address,0,0,l);const r=t.stateToThread(n);if(u||(u={status:"rejected",value:new Error("continuance called with no result")}),"rejected"===u.status)return r.pushValue(u.value||new Error("promise rejected with no error")),this.thread.lua.lua_error(n);if(u.value instanceof g)return u.value.count;if(u.value instanceof f){for(const e of u.value)r.pushValue(e);return u.value.length}return r.pushValue(u.value),1}),"iiii");return null===(r=this.functionRegistry)||void 0===r||r.register(a,l),e.pushValue(a),new g(t.lua.lua_yieldk(e.address,1,0,l))}),{receiveThread:!0})}),t.lua.lua_setfield(t.address,e,"__index"),t.pushValue(((e,t)=>e===t)),t.lua.lua_setfield(t.address,e,"__eq")}t.lua.lua_pop(t.address,1),n&&t.set("Promise",{create:e=>{if(e&&"function"!=typeof e)throw new Error("callback must be a function");return new Promise(e)},all:e=>{if(!Array.isArray(e))throw new Error("argument must be an array of promises");return Promise.all(e.map((e=>Promise.resolve(e))))},resolve:e=>Promise.resolve(e)})}close(){this.thread.lua.module.removeFunction(this.gcPointer)}pushValue(e,t){return Promise.resolve(t.target)===t.target&&super.pushValue(e,t)}}function L(e,t){return new d(e,t||{})}class k extends _{constructor(t){if(super(t,"js_proxy"),this.gcPointer=t.lua.module.addFunction((n=>{const r=t.lua.luaL_checkudata(n,1,this.name),u=t.lua.module.getValue(r,"*");return t.lua.unref(u),e.LuaReturn.Ok}),"ii"),t.lua.luaL_newmetatable(t.address,this.name)){const e=t.lua.lua_gettop(t.address);t.lua.lua_pushstring(t.address,"protected metatable"),t.lua.lua_setfield(t.address,e,"__metatable"),t.lua.lua_pushcclosure(t.address,this.gcPointer,0),t.lua.lua_setfield(t.address,e,"__gc"),t.pushValue(((e,t)=>{switch(typeof t){case"number":t-=1;case"string":break;default:throw new Error("Only strings or numbers can index js objects")}const n=e[t];return"function"==typeof n?w(n,{self:e}):n})),t.lua.lua_setfield(t.address,e,"__index"),t.pushValue(((e,t,n)=>{switch(typeof t){case"number":t-=1;case"string":break;default:throw new Error("Only strings or numbers can index js objects")}e[t]=n})),t.lua.lua_setfield(t.address,e,"__newindex"),t.pushValue((e=>{var t,n;return null!==(n=null===(t=e.toString)||void 0===t?void 0:t.call(e))&&void 0!==n?n:typeof e})),t.lua.lua_setfield(t.address,e,"__tostring"),t.pushValue((e=>e.length||0)),t.lua.lua_setfield(t.address,e,"__len"),t.pushValue((e=>{const t=Object.getOwnPropertyNames(e);let n=0;return f.of((()=>{const r=f.of(t[n],e[t[n]]);return n++,r}),e,null)})),t.lua.lua_setfield(t.address,e,"__pairs"),t.pushValue(((e,t)=>e===t)),t.lua.lua_setfield(t.address,e,"__eq"),t.pushValue(((e,...t)=>(t[0]===e&&t.shift(),e(...t)))),t.lua.lua_setfield(t.address,e,"__call")}t.lua.lua_pop(t.address,1)}isType(t,n,r,u){return r===e.LuaType.UserData&&u===this.name}getValue(e,t){const n=e.lua.lua_touserdata(e.address,t),r=e.lua.module.getValue(n,"*");return e.lua.getRef(r)}pushValue(e,t,n){var r;const{target:u,options:a}=t;if(void 0===(null==a?void 0:a.proxy)){if(null==u)return!1;if("object"!=typeof u&&("function"!=typeof u||(null===(r=null==u?void 0:u.prototype)||void 0===r?void 0:r.constructor)!==u||!u.toString().startsWith("class ")))return!1;if(Promise.resolve(u)===u)return!1}else if(!1===(null==a?void 0:a.proxy))return!1;return!t.options.metatable||t.options.metatable instanceof d?super.pushValue(e,t,n):(t.options.metatable=L(t.options.metatable,{proxy:!1}),!1)}close(){this.thread.lua.module.removeFunction(this.gcPointer)}}class T extends _{constructor(e){super(e,"js_table")}close(){}isType(t,n,r){return r===e.LuaType.Table}getValue(e,t,n){const r=n||new Map,u=e.lua.lua_topointer(e.address,t);let a=r.get(u);return a||(a=this.tableToObject(e,t,r),r.set(u,a)),a}pushValue(e,{target:t},n){if("object"!=typeof t||null===t)return!1;const r=n||new Map,u=r.get(t);if(void 0!==u)return e.lua.lua_rawgeti(e.address,a,u),!0;try{const u=e.getTop()+1,l=(n,u)=>{e.lua.lua_createtable(e.address,n,u);const l=e.lua.luaL_ref(e.address,a);r.set(t,l),e.lua.lua_rawgeti(e.address,a,l)};if(Array.isArray(t)){l(t.length,0);for(let n=0;n<t.length;n++)e.pushValue(n+1,r),e.pushValue(t[n],r),e.lua.lua_settable(e.address,u)}else{l(0,Object.getOwnPropertyNames(t).length);for(const n in t)e.pushValue(n,r),e.pushValue(t[n],r),e.lua.lua_settable(e.address,u)}}finally{if(void 0===n)for(const t of r.values())e.lua.luaL_unref(e.address,a,t)}return!0}tableToObject(e,t,n){const r={};let u=!0,a=1;for(e.lua.lua_pushnil(e.address);e.lua.lua_next(e.address,t);){const t=e.lua.luaL_tolstring(e.address,-2,null);e.pop();const l=e.getValue(-1,void 0,n);r[t]=l,u&&t!==String(a++)&&(u=!1),e.pop()}return u&&a>1?Object.values(r):r}}class x extends _{constructor(t){if(super(t,"js_userdata"),this.gcPointer=t.lua.module.addFunction((n=>{const r=t.lua.luaL_checkudata(n,1,this.name),u=t.lua.module.getValue(r,"*");return t.lua.unref(u),e.LuaReturn.Ok}),"ii"),t.lua.luaL_newmetatable(t.address,this.name)){const e=t.lua.lua_gettop(t.address);t.lua.lua_pushstring(t.address,"protected metatable"),t.lua.lua_setfield(t.address,e,"__metatable"),t.lua.lua_pushcclosure(t.address,this.gcPointer,0),t.lua.lua_setfield(t.address,e,"__gc")}t.lua.lua_pop(t.address,1)}isType(t,n,r,u){return r===e.LuaType.UserData&&u===this.name}getValue(e,t){const n=e.lua.lua_touserdata(e.address,t),r=e.lua.module.getValue(n,"*");return e.lua.getRef(r)}pushValue(e,t){const{options:n}=t;return!!(null==n?void 0:n.reference)&&super.pushValue(e,t)}close(){this.thread.lua.module.removeFunction(this.gcPointer)}}const M={openStandardLibs:!0,injectObjects:!1,enableProxy:!0};class F{constructor(e,t){this.cmodule=e,this.global=new p(this.cmodule);const n=Object.assign(Object.assign({},M),t||{});if(this.global.registerTypeExtension(0,(r=this.global,new T(r))),this.global.registerTypeExtension(0,function(e){return new y(e)}(this.global)),this.global.registerTypeExtension(1,function(e,t){return new v(e,t)}(this.global,n.injectObjects)),n.enableProxy?this.global.registerTypeExtension(3,function(e){return new k(e)}(this.global)):this.global.registerTypeExtension(1,function(e,t){return new b(e,t)}(this.global,n.injectObjects)),this.global.registerTypeExtension(4,function(e){return new x(e)}(this.global)),this.global.isClosed())throw new Error("Lua state could not be created (probably due to lack of memory)");var r;n.openStandardLibs&&this.cmodule.luaL_openlibs(this.global.address)}doString(e){return this.callByteCode((t=>t.loadString(e)))}doFile(e){return this.callByteCode((t=>t.loadFile(e)))}doStringSync(e){return this.global.loadString(e),this.global.runSync()[0]}doFileSync(e){return this.global.loadFile(e),this.global.runSync()[0]}callByteCode(e){return t(this,void 0,void 0,(function*(){const t=this.global.newThread(),n=this.global.getTop();try{e(t);const r=yield t.run(0);return r.length>0&&this.cmodule.lua_xmove(t.address,this.global.address,r.length),r[0]}finally{this.global.remove(n)}}))}}var E,G=(E="undefined"==typeof document&&"undefined"==typeof location?new(n(4058).URL)("file:/index.js").href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href,function(e){var t,r,u;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,u=t}));var a,l={};for(a in t)t.hasOwnProperty(a)&&(l[a]=t[a]);var i="./this.program";function s(e,t){throw t}var o,c,d,h,f,m="object"==typeof window,p="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";_?(b=p?n(5432).dirname(b)+"/":"//",o=function(e,t){return h||(h=n(2777)),f||(f=n(5432)),e=f.normalize(e),h.readFileSync(e,t?null:"utf8")},d=function(e){return(e=o(e,!0)).buffer||(e=new Uint8Array(e)),F(e.buffer),e},c=function(e,t,r){h||(h=n(2777)),f||(f=n(5432)),e=f.normalize(e),h.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},1<process.argv.length&&(i=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Qe))throw e})),process.on("unhandledRejection",ie),s=function(e,t){if(T||0<q)throw process.exitCode=e,t;process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||p)&&(p?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),E&&(b=E),b=0!==b.indexOf("blob:")?b.substr(0,b.lastIndexOf("/")+1):"",o=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},p&&(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),c=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var g=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);for(a in l)l.hasOwnProperty(a)&&(t[a]=l[a]);l=null,t.thisProgram&&(i=t.thisProgram),t.quit&&(s=t.quit);var y,v,L=[],k=0;t.wasmBinary&&(v=t.wasmBinary);var T=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&ie("no native wasm support detected");var x,M=!1;function F(e,t){e||ie("Assertion failed: "+t)}function G(e){var n=t["_"+e];return F(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function S(e,t,n,r){var u,a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);t=Ke(n),C(e,P,t,n)}return t},array:function(e){var t=Ke(e.length);return R.set(e,t),t}},l=G(e),i=[];if(e=0,r)for(var s=0;s<r.length;s++){var o=a[n[s]];o?(0===e&&(e=Be()),i[s]=o(r[s])):i[s]=r[s]}return u=n=l.apply(null,i),n="string"===t?j(u):"boolean"===t?!!u:u,0!==e&&qe(e),n}var D,R,P,O,A,V,I,H="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function U(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&H)return H.decode(e.subarray(t,n));for(r="";t<n;){var u=e[t++];if(128&u){var a=63&e[t++];if(192==(224&u))r+=String.fromCharCode((31&u)<<6|a);else{var l=63&e[t++];65536>(u=224==(240&u)?(15&u)<<12|a<<6|l:(7&u)<<18|a<<12|l<<6|63&e[t++])?r+=String.fromCharCode(u):(u-=65536,r+=String.fromCharCode(55296|u>>10,56320|1023&u))}}else r+=String.fromCharCode(u)}return r}function j(e){return e?U(P,e,void 0):""}function C(e,t,n,r){if(!(0<r))return 0;var u=n;r=n+r-1;for(var a=0;a<e.length;++a){var l=e.charCodeAt(a);if(55296<=l&&57343>=l&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++a)),127>=l){if(n>=r)break;t[n++]=l}else{if(2047>=l){if(n+1>=r)break;t[n++]=192|l>>6}else{if(65535>=l){if(n+2>=r)break;t[n++]=224|l>>12}else{if(n+3>=r)break;t[n++]=240|l>>18,t[n++]=128|l>>12&63}t[n++]=128|l>>6&63}t[n++]=128|63&l}}return t[n]=0,n-u}function z(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function N(e){var t=z(e)+1,n=Ne(t);return n&&C(e,R,n,t),n}function Y(){var e=x.buffer;D=e,t.HEAP8=R=new Int8Array(e),t.HEAP16=O=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=P=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=V=new Float32Array(e),t.HEAPF64=I=new Float64Array(e)}var J,W=[],$=[],B=[],q=0;function K(){var e=t.preRun.shift();W.unshift(e)}var X,Q,Z,ee,te,ne,re=0,ue=null;function ae(){re++,t.monitorRunDependencies&&t.monitorRunDependencies(re)}function le(){if(re--,t.monitorRunDependencies&&t.monitorRunDependencies(re),0==re&&ue){var e=ue;ue=null,e()}}function ie(e){throw t.onAbort&&t.onAbort(e),w(e),M=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),u(e),e}function se(){return X.startsWith("data:application/octet-stream;base64,")}if(t.preloadedImages={},t.preloadedAudios={},t.locateFile){if(X="glue.wasm",!se()){var oe=X;X=t.locateFile?t.locateFile(oe,b):b+oe}}else X=new URL("glue.wasm","undefined"==typeof document&&"undefined"==typeof location?new(n(4058).URL)("file:/index.js").href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function ce(){var e=X;try{if(e==X&&v)return new Uint8Array(v);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(e){ie(e)}}function de(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(t);else{var r=n.hf;"number"==typeof r?void 0===n.Ed?J.get(r)():J.get(r)(n.Ed):r(void 0===n.Ed?null:n.Ed)}}}function he(){function e(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(!ne){ne=!0;var t=(new Date).getFullYear(),n=new Date(t,0,1),r=new Date(t,6,1);t=n.getTimezoneOffset();var u=r.getTimezoneOffset(),a=Math.max(t,u);A[$e()>>2]=60*a,A[We()>>2]=Number(t!=u),n=e(n),r=e(r),n=N(n),r=N(r),u<t?(A[Je()>>2]=n,A[Je()+4>>2]=r):(A[Je()>>2]=r,A[Je()+4>>2]=n)}}function fe(e,t){for(var n=0,r=e.length-1;0<=r;r--){var u=e[r];"."===u?e.splice(r,1):".."===u?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function me(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=fe(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function pe(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function _e(e){if("/"===e)return"/";var t=(e=(e=me(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)}function be(e,t){return me(e+"/"+t)}function ge(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:Me.cwd()))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=fe(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}function we(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=ge(e).substr(1),t=ge(t).substr(1),e=n(e.split("/")),t=n(t.split("/"));for(var r=Math.min(e.length,t.length),u=r,a=0;a<r;a++)if(e[a]!==t[a]){u=a;break}for(r=[],a=u;a<e.length;a++)r.push("..");return(r=r.concat(t.slice(u))).join("/")}ee=_?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var ye=[];function ve(e,t){ye[e]={input:[],output:[],gd:t},Me.Ud(e,Le)}var Le={open:function(e){var t=ye[e.node.rdev];if(!t)throw new Me.Gc(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.gd.flush(e.tty)},flush:function(e){e.tty.gd.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.gd.ge)throw new Me.Gc(60);for(var u=0,a=0;a<r;a++){try{var l=e.tty.gd.ge(e.tty)}catch(e){throw new Me.Gc(29)}if(void 0===l&&0===u)throw new Me.Gc(6);if(null==l)break;u++,t[n+a]=l}return u&&(e.node.timestamp=Date.now()),u},write:function(e,t,n,r){if(!e.tty||!e.tty.gd.Rd)throw new Me.Gc(60);try{for(var u=0;u<r;u++)e.tty.gd.Rd(e.tty,t[n+u])}catch(e){throw new Me.Gc(29)}return r&&(e.node.timestamp=Date.now()),u}},ke={ge:function(e){if(!e.input.length){var t=null;if(_){var n=Buffer.alloc(256),r=0;try{r=h.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(!e.toString().includes("EOF"))throw e;r=0}t=0<r?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=je(t,!0)}return e.input.shift()},Rd:function(e,t){null===t||10===t?(g(U(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(g(U(e.output,0)),e.output=[])}},Te={Rd:function(e,t){null===t||10===t?(w(U(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(w(U(e.output,0)),e.output=[])}},xe={Wc:null,Nc:function(){return xe.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(Me.Ke(n)||Me.isFIFO(n))throw new Me.Gc(63);return xe.Wc||(xe.Wc={dir:{node:{Tc:xe.Hc.Tc,Qc:xe.Hc.Qc,lookup:xe.Hc.lookup,Yc:xe.Hc.Yc,rename:xe.Hc.rename,unlink:xe.Hc.unlink,rmdir:xe.Hc.rmdir,readdir:xe.Hc.readdir,symlink:xe.Hc.symlink},stream:{Uc:xe.Jc.Uc}},file:{node:{Tc:xe.Hc.Tc,Qc:xe.Hc.Qc},stream:{Uc:xe.Jc.Uc,read:xe.Jc.read,write:xe.Jc.write,kd:xe.Jc.kd,od:xe.Jc.od,rd:xe.Jc.rd}},link:{node:{Tc:xe.Hc.Tc,Qc:xe.Hc.Qc,readlink:xe.Hc.readlink},stream:{}},Yd:{node:{Tc:xe.Hc.Tc,Qc:xe.Hc.Qc},stream:Me.ye}}),n=Me.createNode(e,t,n,r),Me.Pc(n.mode)?(n.Hc=xe.Wc.dir.node,n.Jc=xe.Wc.dir.stream,n.Ic={}):Me.isFile(n.mode)?(n.Hc=xe.Wc.file.node,n.Jc=xe.Wc.file.stream,n.Lc=0,n.Ic=null):Me.nd(n.mode)?(n.Hc=xe.Wc.link.node,n.Jc=xe.Wc.link.stream):Me.ud(n.mode)&&(n.Hc=xe.Wc.Yd.node,n.Jc=xe.Wc.Yd.stream),n.timestamp=Date.now(),e&&(e.Ic[t]=n,e.timestamp=n.timestamp),n},jf:function(e){return e.Ic?e.Ic.subarray?e.Ic.subarray(0,e.Lc):new Uint8Array(e.Ic):new Uint8Array(0)},ce:function(e,t){var n=e.Ic?e.Ic.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),0!=n&&(t=Math.max(t,256)),n=e.Ic,e.Ic=new Uint8Array(t),0<e.Lc&&e.Ic.set(n.subarray(0,e.Lc),0))},Ue:function(e,t){if(e.Lc!=t)if(0==t)e.Ic=null,e.Lc=0;else{var n=e.Ic;e.Ic=new Uint8Array(t),n&&e.Ic.set(n.subarray(0,Math.min(t,e.Lc))),e.Lc=t}},Hc:{Tc:function(e){var t={};return t.dev=Me.ud(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Me.Pc(e.mode)?t.size=4096:Me.isFile(e.mode)?t.size=e.Lc:Me.nd(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.we=4096,t.blocks=Math.ceil(t.size/t.we),t},Qc:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&xe.Ue(e,t.size)},lookup:function(){throw Me.Hd[44]},Yc:function(e,t,n,r){return xe.createNode(e,t,n,r)},rename:function(e,t,n){if(Me.Pc(e.mode)){try{var r=Me.Xc(t,n)}catch(e){}if(r)for(var u in r.Ic)throw new Me.Gc(55)}delete e.parent.Ic[e.name],e.parent.timestamp=Date.now(),e.name=n,t.Ic[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.Ic[t],e.timestamp=Date.now()},rmdir:function(e,t){var n,r=Me.Xc(e,t);for(n in r.Ic)throw new Me.Gc(55);delete e.Ic[t],e.timestamp=Date.now()},readdir:function(e){var t,n=[".",".."];for(t in e.Ic)e.Ic.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=xe.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(!Me.nd(e.mode))throw new Me.Gc(28);return e.link}},Jc:{read:function(e,t,n,r,u){var a=e.node.Ic;if(u>=e.node.Lc)return 0;if(8<(e=Math.min(e.node.Lc-u,r))&&a.subarray)t.set(a.subarray(u,u+e),n);else for(r=0;r<e;r++)t[n+r]=a[u+r];return e},write:function(e,t,n,r,u,a){if(t.buffer===R.buffer&&(a=!1),!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Ic||e.Ic.subarray)){if(a)return e.Ic=t.subarray(n,n+r),e.Lc=r;if(0===e.Lc&&0===u)return e.Ic=t.slice(n,n+r),e.Lc=r;if(u+r<=e.Lc)return e.Ic.set(t.subarray(n,n+r),u),r}if(xe.ce(e,u+r),e.Ic.subarray&&t.subarray)e.Ic.set(t.subarray(n,n+r),u);else for(a=0;a<r;a++)e.Ic[u+a]=t[n+a];return e.Lc=Math.max(e.Lc,u+r),r},Uc:function(e,t,n){if(1===n?t+=e.position:2===n&&Me.isFile(e.node.mode)&&(t+=e.node.Lc),0>t)throw new Me.Gc(28);return t},kd:function(e,t,n){xe.ce(e.node,t+n),e.node.Lc=Math.max(e.node.Lc,t+n)},od:function(e,t,n,r,u,a){if(0!==t)throw new Me.Gc(28);if(!Me.isFile(e.node.mode))throw new Me.Gc(43);if(e=e.node.Ic,2&a||e.buffer!==D){if((0<r||r+n<e.length)&&(e=e.subarray?e.subarray(r,r+n):Array.prototype.slice.call(e,r,r+n)),r=!0,ie(),!(n=void 0))throw new Me.Gc(48);R.set(e,n)}else r=!1,n=e.byteOffset;return{qf:n,bf:r}},rd:function(e,t,n,r,u){if(!Me.isFile(e.node.mode))throw new Me.Gc(43);return 2&u||xe.Jc.write(e,t,0,r,n,!1),0}}};var Me={root:null,qd:[],ae:{},streams:[],Pe:1,Vc:null,$d:"/",Ld:!1,ke:!0,Oc:{},oe:{me:{se:1,te:2}},Gc:null,Hd:{},He:null,yd:0,Kc:function(e,t){if(t=t||{},!(e=ge(Me.cwd(),e)))return{path:"",node:null};var n,r={Gd:!0,Td:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.Td)throw new Me.Gc(32);e=fe(e.split("/").filter((function(e){return!!e})),!1);var u=Me.root;for(r="/",n=0;n<e.length;n++){var a=n===e.length-1;if(a&&t.parent)break;if(u=Me.Xc(u,e[n]),r=be(r,e[n]),Me.ad(u)&&(!a||a&&t.Gd)&&(u=u.pd.root),!a||t.Sc)for(a=0;Me.nd(u.mode);)if(u=Me.readlink(r),r=ge(pe(r),u),u=Me.Kc(r,{Td:t.Td}).node,40<a++)throw new Me.Gc(32)}return{path:r,node:u}},$c:function(e){for(var t;;){if(Me.vd(e))return e=e.Nc.le,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}},Kd:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Me.Vc.length},ie:function(e){var t=Me.Kd(e.parent.id,e.name);e.cd=Me.Vc[t],Me.Vc[t]=e},je:function(e){var t=Me.Kd(e.parent.id,e.name);if(Me.Vc[t]===e)Me.Vc[t]=e.cd;else for(t=Me.Vc[t];t;){if(t.cd===e){t.cd=e.cd;break}t=t.cd}},Xc:function(e,t){var n=Me.Me(e);if(n)throw new Me.Gc(n,e);for(n=Me.Vc[Me.Kd(e.id,t)];n;n=n.cd){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return Me.lookup(e,t)},createNode:function(e,t,n,r){return e=new Me.pe(e,t,n,r),Me.ie(e),e},Fd:function(e){Me.je(e)},vd:function(e){return e===e.parent},ad:function(e){return!!e.pd},isFile:function(e){return 32768==(61440&e)},Pc:function(e){return 16384==(61440&e)},nd:function(e){return 40960==(61440&e)},ud:function(e){return 8192==(61440&e)},Ke:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},Ie:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Oe:function(e){var t=Me.Ie[e];if(void 0===t)throw Error("Unknown file open mode: "+e);return t},de:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},dd:function(e,t){return Me.ke?0:!t.includes("r")||292&e.mode?t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0:2},Me:function(e){return Me.dd(e,"x")||(e.Hc.lookup?0:2)},Qd:function(e,t){try{return Me.Xc(e,t),20}catch(e){}return Me.dd(e,"wx")},wd:function(e,t,n){try{var r=Me.Xc(e,t)}catch(e){return e.Mc}if(e=Me.dd(e,"wx"))return e;if(n){if(!Me.Pc(r.mode))return 54;if(Me.vd(r)||Me.$c(r)===Me.cwd())return 10}else if(Me.Pc(r.mode))return 31;return 0},Ne:function(e,t){return e?Me.nd(e.mode)?32:Me.Pc(e.mode)&&("r"!==Me.de(t)||512&t)?31:Me.dd(e,Me.de(t)):44},re:4096,Qe:function(e,t){for(t=t||Me.re,e=e||0;e<=t;e++)if(!Me.streams[e])return e;throw new Me.Gc(33)},ed:function(e){return Me.streams[e]},Fe:function(e,t,n){Me.Cd||(Me.Cd=function(){},Me.Cd.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}}});var r,u=new Me.Cd;for(r in e)u[r]=e[r];return e=u,t=Me.Qe(t,n),e.fd=t,Me.streams[t]=e},ze:function(e){Me.streams[e]=null},ye:{open:function(e){e.Jc=Me.Je(e.node.rdev).Jc,e.Jc.open&&e.Jc.open(e)},Uc:function(){throw new Me.Gc(70)}},Pd:function(e){return e>>8},lf:function(e){return 255&e},bd:function(e,t){return e<<8|t},Ud:function(e,t){Me.ae[e]={Jc:t}},Je:function(e){return Me.ae[e]},fe:function(e){var t=[];for(e=[e];e.length;){var n=e.pop();t.push(n),e.push.apply(e,n.qd)}return t},ne:function(e,t){function n(e){return Me.yd--,t(e)}function r(e){if(e){if(!r.Ge)return r.Ge=!0,n(e)}else++a>=u.length&&n(null)}"function"==typeof e&&(t=e,e=!1),Me.yd++,1<Me.yd&&w("warning: "+Me.yd+" FS.syncfs operations in flight at once, probably just doing extra work");var u=Me.fe(Me.root.Nc),a=0;u.forEach((function(t){if(!t.type.ne)return r(null);t.type.ne(t,e,r)}))},Nc:function(e,t,n){var r="/"===n,u=!n;if(r&&Me.root)throw new Me.Gc(10);if(!r&&!u){var a=Me.Kc(n,{Gd:!1});if(n=a.path,a=a.node,Me.ad(a))throw new Me.Gc(10);if(!Me.Pc(a.mode))throw new Me.Gc(54)}return t={type:e,pf:t,le:n,qd:[]},(e=e.Nc(t)).Nc=t,t.root=e,r?Me.root=e:a&&(a.pd=t,a.Nc&&a.Nc.qd.push(t)),e},wf:function(e){if(e=Me.Kc(e,{Gd:!1}),!Me.ad(e.node))throw new Me.Gc(28);var t=(e=e.node).pd,n=Me.fe(t);Object.keys(Me.Vc).forEach((function(e){for(e=Me.Vc[e];e;){var t=e.cd;n.includes(e.Nc)&&Me.Fd(e),e=t}})),e.pd=null,e.Nc.qd.splice(e.Nc.qd.indexOf(t),1)},lookup:function(e,t){return e.Hc.lookup(e,t)},Yc:function(e,t,n){var r=Me.Kc(e,{parent:!0}).node;if(!(e=_e(e))||"."===e||".."===e)throw new Me.Gc(28);var u=Me.Qd(r,e);if(u)throw new Me.Gc(u);if(!r.Hc.Yc)throw new Me.Gc(63);return r.Hc.Yc(r,e,t,n)},create:function(e,t){return Me.Yc(e,4095&(void 0!==t?t:438)|32768,0)},mkdir:function(e,t){return Me.Yc(e,1023&(void 0!==t?t:511)|16384,0)},mf:function(e,t){e=e.split("/");for(var n="",r=0;r<e.length;++r)if(e[r]){n+="/"+e[r];try{Me.mkdir(n,t)}catch(e){if(20!=e.Mc)throw e}}},xd:function(e,t,n){return void 0===n&&(n=t,t=438),Me.Yc(e,8192|t,n)},symlink:function(e,t){if(!ge(e))throw new Me.Gc(44);var n=Me.Kc(t,{parent:!0}).node;if(!n)throw new Me.Gc(44);t=_e(t);var r=Me.Qd(n,t);if(r)throw new Me.Gc(r);if(!n.Hc.symlink)throw new Me.Gc(63);return n.Hc.symlink(n,t,e)},rename:function(e,t){var n=pe(e),r=pe(t),u=_e(e),a=_e(t),l=Me.Kc(e,{parent:!0}),i=l.node;if(l=(l=Me.Kc(t,{parent:!0})).node,!i||!l)throw new Me.Gc(44);if(i.Nc!==l.Nc)throw new Me.Gc(75);var s=Me.Xc(i,u);if("."!==(r=we(e,r)).charAt(0))throw new Me.Gc(28);if("."!==(r=we(t,n)).charAt(0))throw new Me.Gc(55);try{var o=Me.Xc(l,a)}catch(e){}if(s!==o){if(n=Me.Pc(s.mode),u=Me.wd(i,u,n))throw new Me.Gc(u);if(u=o?Me.wd(l,a,n):Me.Qd(l,a))throw new Me.Gc(u);if(!i.Hc.rename)throw new Me.Gc(63);if(Me.ad(s)||o&&Me.ad(o))throw new Me.Gc(10);if(l!==i&&(u=Me.dd(i,"w")))throw new Me.Gc(u);try{Me.Oc.willMovePath&&Me.Oc.willMovePath(e,t)}catch(n){w("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}Me.je(s);try{i.Hc.rename(s,l,a)}catch(e){throw e}finally{Me.ie(s)}try{Me.Oc.onMovePath&&Me.Oc.onMovePath(e,t)}catch(n){w("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=Me.Kc(e,{parent:!0}).node,n=_e(e),r=Me.Xc(t,n),u=Me.wd(t,n,!0);if(u)throw new Me.Gc(u);if(!t.Hc.rmdir)throw new Me.Gc(63);if(Me.ad(r))throw new Me.Gc(10);try{Me.Oc.willDeletePath&&Me.Oc.willDeletePath(e)}catch(t){w("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.Hc.rmdir(t,n),Me.Fd(r);try{Me.Oc.onDeletePath&&Me.Oc.onDeletePath(e)}catch(t){w("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){if(!(e=Me.Kc(e,{Sc:!0}).node).Hc.readdir)throw new Me.Gc(54);return e.Hc.readdir(e)},unlink:function(e){var t=Me.Kc(e,{parent:!0}).node,n=_e(e),r=Me.Xc(t,n),u=Me.wd(t,n,!1);if(u)throw new Me.Gc(u);if(!t.Hc.unlink)throw new Me.Gc(63);if(Me.ad(r))throw new Me.Gc(10);try{Me.Oc.willDeletePath&&Me.Oc.willDeletePath(e)}catch(t){w("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.Hc.unlink(t,n),Me.Fd(r);try{Me.Oc.onDeletePath&&Me.Oc.onDeletePath(e)}catch(t){w("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){if(!(e=Me.Kc(e).node))throw new Me.Gc(44);if(!e.Hc.readlink)throw new Me.Gc(28);return ge(Me.$c(e.parent),e.Hc.readlink(e))},stat:function(e,t){if(!(e=Me.Kc(e,{Sc:!t}).node))throw new Me.Gc(44);if(!e.Hc.Tc)throw new Me.Gc(63);return e.Hc.Tc(e)},lstat:function(e){return Me.stat(e,!0)},chmod:function(e,t,n){if(!(e="string"==typeof e?Me.Kc(e,{Sc:!n}).node:e).Hc.Qc)throw new Me.Gc(63);e.Hc.Qc(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})},lchmod:function(e,t){Me.chmod(e,t,!0)},fchmod:function(e,t){if(!(e=Me.ed(e)))throw new Me.Gc(8);Me.chmod(e.node,t)},chown:function(e,t,n,r){if(!(e="string"==typeof e?Me.Kc(e,{Sc:!r}).node:e).Hc.Qc)throw new Me.Gc(63);e.Hc.Qc(e,{timestamp:Date.now()})},lchown:function(e,t,n){Me.chown(e,t,n,!0)},fchown:function(e,t,n){if(!(e=Me.ed(e)))throw new Me.Gc(8);Me.chown(e.node,t,n)},truncate:function(e,t){if(0>t)throw new Me.Gc(28);if(!(e="string"==typeof e?Me.Kc(e,{Sc:!0}).node:e).Hc.Qc)throw new Me.Gc(63);if(Me.Pc(e.mode))throw new Me.Gc(31);if(!Me.isFile(e.mode))throw new Me.Gc(28);var n=Me.dd(e,"w");if(n)throw new Me.Gc(n);e.Hc.Qc(e,{size:t,timestamp:Date.now()})},gf:function(e,t){if(!(e=Me.ed(e)))throw new Me.Gc(8);if(0==(2097155&e.flags))throw new Me.Gc(28);Me.truncate(e.node,t)},xf:function(e,t,n){(e=Me.Kc(e,{Sc:!0}).node).Hc.Qc(e,{timestamp:Math.max(t,n)})},open:function(e,n,r,u,a){if(""===e)throw new Me.Gc(44);if(r=64&(n="string"==typeof n?Me.Oe(n):n)?4095&(void 0===r?438:r)|32768:0,"object"==typeof e)var l=e;else{e=me(e);try{l=Me.Kc(e,{Sc:!(131072&n)}).node}catch(e){}}var i=!1;if(64&n)if(l){if(128&n)throw new Me.Gc(20)}else l=Me.Yc(e,r,0),i=!0;if(!l)throw new Me.Gc(44);if(Me.ud(l.mode)&&(n&=-513),65536&n&&!Me.Pc(l.mode))throw new Me.Gc(54);if(!i&&(r=Me.Ne(l,n)))throw new Me.Gc(r);512&n&&Me.truncate(l,0),n&=-131713,(u=Me.Fe({node:l,path:Me.$c(l),flags:n,seekable:!0,position:0,Jc:l.Jc,af:[],error:!1},u,a)).Jc.open&&u.Jc.open(u),!t.logReadFiles||1&n||(Me.Sd||(Me.Sd={}),e in Me.Sd||(Me.Sd[e]=1,w("FS.trackingDelegate error on read file: "+e)));try{Me.Oc.onOpenFile&&(a=0,1!=(2097155&n)&&(a|=Me.oe.me.se),0!=(2097155&n)&&(a|=Me.oe.me.te),Me.Oc.onOpenFile(e,a))}catch(t){w("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return u},close:function(e){if(Me.md(e))throw new Me.Gc(8);e.Jd&&(e.Jd=null);try{e.Jc.close&&e.Jc.close(e)}catch(e){throw e}finally{Me.ze(e.fd)}e.fd=null},md:function(e){return null===e.fd},Uc:function(e,t,n){if(Me.md(e))throw new Me.Gc(8);if(!e.seekable||!e.Jc.Uc)throw new Me.Gc(70);if(0!=n&&1!=n&&2!=n)throw new Me.Gc(28);return e.position=e.Jc.Uc(e,t,n),e.af=[],e.position},read:function(e,t,n,r,u){if(0>r||0>u)throw new Me.Gc(28);if(Me.md(e))throw new Me.Gc(8);if(1==(2097155&e.flags))throw new Me.Gc(8);if(Me.Pc(e.node.mode))throw new Me.Gc(31);if(!e.Jc.read)throw new Me.Gc(28);var a=void 0!==u;if(a){if(!e.seekable)throw new Me.Gc(70)}else u=e.position;return t=e.Jc.read(e,t,n,r,u),a||(e.position+=t),t},write:function(e,t,n,r,u,a){if(0>r||0>u)throw new Me.Gc(28);if(Me.md(e))throw new Me.Gc(8);if(0==(2097155&e.flags))throw new Me.Gc(8);if(Me.Pc(e.node.mode))throw new Me.Gc(31);if(!e.Jc.write)throw new Me.Gc(28);e.seekable&&1024&e.flags&&Me.Uc(e,0,2);var l=void 0!==u;if(l){if(!e.seekable)throw new Me.Gc(70)}else u=e.position;t=e.Jc.write(e,t,n,r,u,a),l||(e.position+=t);try{e.path&&Me.Oc.onWriteToFile&&Me.Oc.onWriteToFile(e.path)}catch(t){w("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return t},kd:function(e,t,n){if(Me.md(e))throw new Me.Gc(8);if(0>t||0>=n)throw new Me.Gc(28);if(0==(2097155&e.flags))throw new Me.Gc(8);if(!Me.isFile(e.node.mode)&&!Me.Pc(e.node.mode))throw new Me.Gc(43);if(!e.Jc.kd)throw new Me.Gc(138);e.Jc.kd(e,t,n)},od:function(e,t,n,r,u,a){if(0!=(2&u)&&0==(2&a)&&2!=(2097155&e.flags))throw new Me.Gc(2);if(1==(2097155&e.flags))throw new Me.Gc(2);if(!e.Jc.od)throw new Me.Gc(43);return e.Jc.od(e,t,n,r,u,a)},rd:function(e,t,n,r,u){return e&&e.Jc.rd?e.Jc.rd(e,t,n,r,u):0},nf:function(){return 0},Md:function(e,t,n){if(!e.Jc.Md)throw new Me.Gc(59);return e.Jc.Md(e,t,n)},readFile:function(e,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw Error('Invalid encoding type "'+t.encoding+'"');var n,r=Me.open(e,t.flags);e=Me.stat(e).size;var u=new Uint8Array(e);return Me.read(r,u,0,e,0),"utf8"===t.encoding?n=U(u,0):"binary"===t.encoding&&(n=u),Me.close(r),n},writeFile:function(e,t,n){if((n=n||{}).flags=n.flags||577,e=Me.open(e,n.flags,n.mode),"string"==typeof t){var r=new Uint8Array(z(t)+1);t=C(t,r,0,r.length),Me.write(e,r,0,t,void 0,n.xe)}else{if(!ArrayBuffer.isView(t))throw Error("Unsupported data type");Me.write(e,t,0,t.byteLength,void 0,n.xe)}Me.close(e)},cwd:function(){return Me.$d},chdir:function(e){if(null===(e=Me.Kc(e,{Sc:!0})).node)throw new Me.Gc(44);if(!Me.Pc(e.node.mode))throw new Me.Gc(54);var t=Me.dd(e.node,"x");if(t)throw new Me.Gc(t);Me.$d=e.path},Be:function(){Me.mkdir("/tmp"),Me.mkdir("/home"),Me.mkdir("/home/web_user")},Ae:function(){Me.mkdir("/dev"),Me.Ud(Me.bd(1,3),{read:function(){return 0},write:function(e,t,n,r){return r}}),Me.xd("/dev/null",Me.bd(1,3)),ve(Me.bd(5,0),ke),ve(Me.bd(6,0),Te),Me.xd("/dev/tty",Me.bd(5,0)),Me.xd("/dev/tty1",Me.bd(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(_)try{var t=n(6549);return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){ie("randomDevice")}}();Me.Zc("/dev","random",e),Me.Zc("/dev","urandom",e),Me.mkdir("/dev/shm"),Me.mkdir("/dev/shm/tmp")},De:function(){Me.mkdir("/proc");var e=Me.mkdir("/proc/self");Me.mkdir("/proc/self/fd"),Me.Nc({Nc:function(){var t=Me.createNode(e,"fd",16895,73);return t.Hc={lookup:function(e,t){var n=Me.ed(+t);if(!n)throw new Me.Gc(8);return(e={parent:null,Nc:{le:"fake"},Hc:{readlink:function(){return n.path}}}).parent=e}},t}},{},"/proc/self/fd")},Ee:function(){t.stdin?Me.Zc("/dev","stdin",t.stdin):Me.symlink("/dev/tty","/dev/stdin"),t.stdout?Me.Zc("/dev","stdout",null,t.stdout):Me.symlink("/dev/tty","/dev/stdout"),t.stderr?Me.Zc("/dev","stderr",null,t.stderr):Me.symlink("/dev/tty1","/dev/stderr"),Me.open("/dev/stdin",0),Me.open("/dev/stdout",1),Me.open("/dev/stderr",1)},be:function(){Me.Gc||(Me.Gc=function(e,t){this.node=t,this.Ve=function(e){this.Mc=e},this.Ve(e),this.message="FS error"},Me.Gc.prototype=Error(),Me.Gc.prototype.constructor=Me.Gc,[44].forEach((function(e){Me.Hd[e]=new Me.Gc(e),Me.Hd[e].stack="<generic error, no stack>"})))},We:function(){Me.be(),Me.Vc=Array(4096),Me.Nc(xe,{},"/"),Me.Be(),Me.Ae(),Me.De(),Me.He={MEMFS:xe}},ld:function(e,n,r){Me.ld.Ld=!0,Me.be(),t.stdin=e||t.stdin,t.stdout=n||t.stdout,t.stderr=r||t.stderr,Me.Ee()},rf:function(){Me.ld.Ld=!1;var e=t._fflush;for(e&&e(0),e=0;e<Me.streams.length;e++){var n=Me.streams[e];n&&Me.close(n)}},Id:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},ff:function(e,t){return(e=Me.Dd(e,t)).exists?e.object:null},Dd:function(e,t){try{var n=Me.Kc(e,{Sc:!t});e=n.path}catch(e){}var r={vd:!1,exists:!1,error:0,name:null,path:null,object:null,Re:!1,Te:null,Se:null};try{n=Me.Kc(e,{parent:!0}),r.Re=!0,r.Te=n.path,r.Se=n.node,r.name=_e(e),n=Me.Kc(e,{Sc:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.vd="/"===n.path}catch(e){r.error=e.Mc}return r},df:function(e,t){for(e="string"==typeof e?e:Me.$c(e),t=t.split("/").reverse();t.length;){var n=t.pop();if(n){var r=be(e,n);try{Me.mkdir(r)}catch(e){}e=r}}return r},Ce:function(e,t,n,r,u){return e=be("string"==typeof e?e:Me.$c(e),t),Me.create(e,Me.Id(r,u))},Zd:function(e,t,n,r,u,a){if(e=t?be("string"==typeof e?e:Me.$c(e),t):e,r=Me.Id(r,u),u=Me.create(e,r),n){if("string"==typeof n){e=Array(n.length),t=0;for(var l=n.length;t<l;++t)e[t]=n.charCodeAt(t);n=e}Me.chmod(u,146|r),e=Me.open(u,577),Me.write(e,n,0,n.length,0,a),Me.close(e),Me.chmod(u,r)}return u},Zc:function(e,t,n,r){e=be("string"==typeof e?e:Me.$c(e),t),t=Me.Id(!!n,!!r),Me.Zc.Pd||(Me.Zc.Pd=64);var u=Me.bd(Me.Zc.Pd++,0);return Me.Ud(u,{open:function(e){e.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,u){for(var a=0,l=0;l<u;l++){try{var i=n()}catch(e){throw new Me.Gc(29)}if(void 0===i&&0===a)throw new Me.Gc(6);if(null==i)break;a++,t[r+l]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,u){for(var a=0;a<u;a++)try{r(t[n+a])}catch(e){throw new Me.Gc(29)}return u&&(e.node.timestamp=Date.now()),a}}),Me.xd(e,t,u)},ee:function(e){if(e.Nd||e.Le||e.link||e.Ic)return!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw Error("Cannot load without read() or XMLHttpRequest.");try{e.Ic=je(o(e.url),!0),e.Lc=e.Ic.length}catch(e){throw new Me.Gc(29)}},cf:function(e,t,n,r,u){function a(){this.Od=!1,this.td=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||0>e)){var t=e%this.chunkSize;return this.he(e/this.chunkSize|0)[t]}},a.prototype.qe=function(e){this.he=e},a.prototype.Xd=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(200<=e.status&&300>e.status||304===e.status))throw Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),u=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t;e=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t;var a=1048576;u||(a=r);var l=this;l.qe((function(e){var t=e*a,u=(e+1)*a-1;if(u=Math.min(u,r-1),void 0===l.td[e]){var i=l.td;if(t>u)throw Error("invalid range ("+t+", "+u+") or no bytes requested!");if(u>r-1)throw Error("only "+r+" bytes available! programmer error!");var s=new XMLHttpRequest;if(s.open("GET",n,!1),r!==a&&s.setRequestHeader("Range","bytes="+t+"-"+u),"undefined"!=typeof Uint8Array&&(s.responseType="arraybuffer"),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.send(null),!(200<=s.status&&300>s.status||304===s.status))throw Error("Couldn't load "+n+". Status: "+s.status);t=void 0!==s.response?new Uint8Array(s.response||[]):je(s.responseText||"",!0),i[e]=t}if(void 0===l.td[e])throw Error("doXHR failed!");return l.td[e]})),!e&&r||(a=r=1,a=r=this.he(0).length,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this.ve=r,this.ue=a,this.Od=!0},"undefined"!=typeof XMLHttpRequest){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var l=new a;Object.defineProperties(l,{length:{get:function(){return this.Od||this.Xd(),this.ve}},chunkSize:{get:function(){return this.Od||this.Xd(),this.ue}}}),l={Nd:!1,Ic:l}}else l={Nd:!1,url:n};var i=Me.Ce(e,t,l,r,u);l.Ic?i.Ic=l.Ic:l.url&&(i.Ic=null,i.url=l.url),Object.defineProperties(i,{Lc:{get:function(){return this.Ic.length}}});var s={};return Object.keys(i.Jc).forEach((function(e){var t=i.Jc[e];s[e]=function(){return Me.ee(i),t.apply(null,arguments)}})),s.read=function(e,t,n,r,u){if(Me.ee(i),u>=(e=e.node.Ic).length)return 0;if(r=Math.min(e.length-u,r),e.slice)for(var a=0;a<r;a++)t[n+a]=e[u+a];else for(a=0;a<r;a++)t[n+a]=e.get(u+a);return r},i.Jc=s,i},ef:function(e,n,r,u,a,l,i,s,o,d){function h(r){function c(t){d&&d(),s||Me.Zd(e,n,t,u,a,o),l&&l(),le()}var h=!1;t.preloadPlugins.forEach((function(e){!h&&e.canHandle(f)&&(e.handle(r,f,c,(function(){i&&i(),le()})),h=!0)})),h||c(r)}undefined.ld();var f=n?ge(be(e,n)):e;ae(),"string"==typeof r?function(e,t,n){var r="al "+e;c(e,(function(n){F(n,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(n)),r&&le()}),(function(){if(!n)throw'Loading data file "'+e+'" failed.';n()})),r&&ae()}(r,(function(e){h(e)}),i):h(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Vd:function(){return"EM_FS_"+window.location.pathname},Wd:20,jd:"FILE_DATA",sf:function(e,t,n){t=t||function(){},n=n||function(){};var r=Me.indexedDB();try{var u=r.open(Me.Vd(),Me.Wd)}catch(e){return n(e)}u.onupgradeneeded=function(){g("creating db"),u.result.createObjectStore(Me.jd)},u.onsuccess=function(){var r=u.result.transaction([Me.jd],"readwrite"),a=r.objectStore(Me.jd),l=0,i=0,s=e.length;e.forEach((function(e){(e=a.put(Me.Dd(e).object.Ic,e)).onsuccess=function(){++l+i==s&&(0==i?t():n())},e.onerror=function(){i++,l+i==s&&(0==i?t():n())}})),r.onerror=n},u.onerror=n},kf:function(e,t,n){t=t||function(){},n=n||function(){};var r=Me.indexedDB();try{var u=r.open(Me.Vd(),Me.Wd)}catch(e){return n(e)}u.onupgradeneeded=n,u.onsuccess=function(){var r=u.result;try{var a=r.transaction([Me.jd],"readonly")}catch(e){return void n(e)}var l=a.objectStore(Me.jd),i=0,s=0,o=e.length;e.forEach((function(e){var r=l.get(e);r.onsuccess=function(){Me.Dd(e).exists&&Me.unlink(e),Me.Zd(pe(e),_e(e),r.result,!0,!0,!0),++i+s==o&&(0==s?t():n())},r.onerror=function(){s++,i+s==o&&(0==s?t():n())}})),a.onerror=n},u.onerror=n}};function Fe(e,t,n){var r=Me.ed(n);return r&&Me.close(r),Me.open(e,t,0,n,n).fd}var Ee=void 0;function Ge(){return A[(Ee+=4)-4>>2]}function Se(e){if(!(e=Me.ed(e)))throw new Me.Gc(8);return e}var De,Re={};function Pe(){if(!De){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:i||"./this.program"};for(e in Re)void 0===Re[e]?delete t[e]:t[e]=Re[e];var n=[];for(e in t)n.push(e+"="+t[e]);De=n}return De}function Oe(e){return 0==e%4&&(0!=e%100||0==e%400)}function Ae(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var Ve=[31,29,31,30,31,30,31,31,30,31,30,31],Ie=[31,28,31,30,31,30,31,31,30,31,30,31];function He(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(Oe(e.getFullYear())?Ve:Ie)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function Ue(e,t,n,r){e||(e=this),this.parent=e,this.Nc=e.Nc,this.pd=null,this.id=Me.Pe++,this.name=t,this.mode=n,this.Hc={},this.Jc={},this.rdev=r}function je(e,t){var n=Array(z(e)+1);return e=C(e,n,0,n.length),t&&(n.length=e),n}Object.defineProperties(Ue.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},Le:{get:function(){return Me.Pc(this.mode)}},Nd:{get:function(){return Me.ud(this.mode)}}}),Me.pe=Ue,Me.We();var Ce={v:function(e,t){e:{if(0===e)e=Date.now();else{if(1!==e&&4!==e){A[ze()>>2]=28,t=-1;break e}e=ee()}A[t>>2]=e/1e3|0,A[t+4>>2]=e%1e3*1e6|0,t=0}return t},u:function(e,t){return e=new Date(1e3*A[e>>2]),A[t>>2]=e.getUTCSeconds(),A[t+4>>2]=e.getUTCMinutes(),A[t+8>>2]=e.getUTCHours(),A[t+12>>2]=e.getUTCDate(),A[t+16>>2]=e.getUTCMonth(),A[t+20>>2]=e.getUTCFullYear()-1900,A[t+24>>2]=e.getUTCDay(),A[t+36>>2]=0,A[t+32>>2]=0,A[t+28>>2]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,te||(te=N("GMT")),A[t+40>>2]=te,t},t:function(e,t){he(),e=new Date(1e3*A[e>>2]),A[t>>2]=e.getSeconds(),A[t+4>>2]=e.getMinutes(),A[t+8>>2]=e.getHours(),A[t+12>>2]=e.getDate(),A[t+16>>2]=e.getMonth(),A[t+20>>2]=e.getFullYear()-1900,A[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1);A[t+28>>2]=(e.getTime()-n.getTime())/864e5|0,A[t+36>>2]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();return e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),A[t+32>>2]=e,e=A[Je()+(e?4:0)>>2],A[t+40>>2]=e,t},w:function(e,t){try{var n=Se(e);return n.fd===t?t:Fe(n.path,n.flags,t)}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},x:function(e,t){try{var n=Se(e);return n.fd===t?-28:Fe(n.path,n.flags,t)}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},c:function(e,t,n){Ee=n;try{var r=Se(e);switch(t){case 0:var u=Ge();return 0>u?-28:Me.open(r.path,r.flags,0,u).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:return u=Ge(),r.flags|=u,0;case 12:return u=Ge(),O[u+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return A[ze()>>2]=28,-1;default:return-28}}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},y:function(e,t,n){Ee=n;try{var r=Se(e);switch(t){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:if(!r.tty)return-59;var u=Ge();return A[u>>2]=0;case 21520:return r.tty?-28:-59;case 21531:return u=Ge(),Me.Md(r,t,u);case 21523:case 21524:return r.tty?0:-59;default:ie("bad ioctl syscall "+t)}}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},A:function(e,t){try{e=j(e);e:{var n=Me.lstat;try{var r=n(e)}catch(t){if(t&&t.node&&me(e)!==me(Me.$c(t.node))){var u=-54;break e}throw t}A[t>>2]=r.dev,A[t+4>>2]=0,A[t+8>>2]=r.ino,A[t+12>>2]=r.mode,A[t+16>>2]=r.nlink,A[t+20>>2]=r.uid,A[t+24>>2]=r.gid,A[t+28>>2]=r.rdev,A[t+32>>2]=0,Z=[r.size>>>0,(Q=r.size,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],A[t+40>>2]=Z[0],A[t+44>>2]=Z[1],A[t+48>>2]=4096,A[t+52>>2]=r.blocks,A[t+56>>2]=r.atime.getTime()/1e3|0,A[t+60>>2]=0,A[t+64>>2]=r.mtime.getTime()/1e3|0,A[t+68>>2]=0,A[t+72>>2]=r.ctime.getTime()/1e3|0,A[t+76>>2]=0,Z=[r.ino>>>0,(Q=r.ino,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],A[t+80>>2]=Z[0],A[t+84>>2]=Z[1],u=0}return u}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},h:function(e,t,n){Ee=n;try{var r=j(e),u=n?Ge():0;return Me.open(r,t,u).fd}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},C:function(e,t){try{return e=j(e),t=j(t),Me.rename(e,t),0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},D:function(e){try{return e=j(e),Me.rmdir(e),0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},g:function(e){try{return e=j(e),Me.unlink(e),0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),-e.Mc}},q:function(){throw"longjmp"},F:function(){ie()},e:function e(){return void 0===e.start&&(e.start=Date.now()),1e3*(Date.now()-e.start)|0},l:function(e,t){return e-t},o:function(e,t,n){P.copyWithin(e,t,t+n)},p:function(e){var t=P.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{x.grow(Math.min(2147483648,r)-D.byteLength+65535>>>16),Y();var u=1;break e}catch(e){}u=void 0}if(u)return!0}return!1},r:function(e,t){try{var n=0;return Pe().forEach((function(r,u){var a=t+n;for(u=A[e+4*u>>2]=a,a=0;a<r.length;++a)R[u++>>0]=r.charCodeAt(a);R[u>>0]=0,n+=r.length+1})),0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),e.Mc}},s:function(e,t){try{var n=Pe();A[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),A[t>>2]=r,0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),e.Mc}},j:function(e){T||0<q||(t.onExit&&t.onExit(e),M=!0),s(e,new Qe(e))},d:function(e){try{var t=Se(e);return Me.close(t),0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),e.Mc}},B:function(e,t,n,r){try{e:{for(var u=Se(e),a=e=0;a<n;a++){var l=A[t+(8*a+4)>>2],i=Me.read(u,R,A[t+8*a>>2],l,void 0);if(0>i){var s=-1;break e}if(e+=i,i<l)break}s=e}return A[r>>2]=s,0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),e.Mc}},n:function(e,t,n,r,u){try{var a=Se(e);return-9007199254740992>=(e=4294967296*n+(t>>>0))||9007199254740992<=e?-61:(Me.Uc(a,e,r),Z=[a.position>>>0,(Q=a.position,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],A[u>>2]=Z[0],A[u+4>>2]=Z[1],a.Jd&&0===e&&0===r&&(a.Jd=null),0)}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),e.Mc}},f:function(e,t,n,r){try{e:{for(var u=Se(e),a=e=0;a<n;a++){var l=Me.write(u,R,A[t+8*a>>2],A[t+(8*a+4)>>2],void 0);if(0>l){var i=-1;break e}e+=l}i=e}return A[r>>2]=i,0}catch(e){return void 0!==Me&&e instanceof Me.Gc||ie(e),e.Mc}},i:function(){return k},z:function(e,t,n){var r=Be();try{J.get(e)(t,n)}catch(e){if(qe(r),e!==e+0&&"longjmp"!==e)throw e;Xe(1,0)}},E:function(e){he();var t=new Date(A[e+20>>2]+1900,A[e+16>>2],A[e+12>>2],A[e+8>>2],A[e+4>>2],A[e>>2],0),n=A[e+32>>2],r=t.getTimezoneOffset(),u=new Date(t.getFullYear(),0,1),a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),l=u.getTimezoneOffset(),i=Math.min(l,a);return 0>n?A[e+32>>2]=Number(a!=l&&i==r):0<n!=(i==r)&&(a=Math.max(l,a),t.setTime(t.getTime()+6e4*((0<n?i:a)-r))),A[e+24>>2]=t.getDay(),A[e+28>>2]=(t.getTime()-u.getTime())/864e5|0,A[e>>2]=t.getSeconds(),A[e+4>>2]=t.getMinutes(),A[e+8>>2]=t.getHours(),A[e+12>>2]=t.getDate(),A[e+16>>2]=t.getMonth(),t.getTime()/1e3|0},a:function(e){k=e},m:function(e,t,n,r){function u(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function a(e,t){return u(e,t,"0")}function l(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function i(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){e=He(new Date(e.Rc+1900,0,1),e.Bd);var t=new Date(e.getFullYear()+1,0,4),n=i(new Date(e.getFullYear(),0,4));return t=i(t),0>=l(n,e)?0>=l(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var o=A[r+40>>2];for(var c in r={Ze:A[r>>2],Ye:A[r+4>>2],zd:A[r+8>>2],sd:A[r+12>>2],hd:A[r+16>>2],Rc:A[r+20>>2],Ad:A[r+24>>2],Bd:A[r+28>>2],vf:A[r+32>>2],Xe:A[r+36>>2],$e:o?j(o):""},n=j(n),o={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(c,"g"),o[c]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(c in o={"%a":function(e){return d[e.Ad].substring(0,3)},"%A":function(e){return d[e.Ad]},"%b":function(e){return h[e.hd].substring(0,3)},"%B":function(e){return h[e.hd]},"%C":function(e){return a((e.Rc+1900)/100|0,2)},"%d":function(e){return a(e.sd,2)},"%e":function(e){return u(e.sd,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return a(e.zd,2)},"%I":function(e){return 0==(e=e.zd)?e=12:12<e&&(e-=12),a(e,2)},"%j":function(e){return a(e.sd+Ae(Oe(e.Rc+1900)?Ve:Ie,e.hd-1),3)},"%m":function(e){return a(e.hd+1,2)},"%M":function(e){return a(e.Ye,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.zd&&12>e.zd?"AM":"PM"},"%S":function(e){return a(e.Ze,2)},"%t":function(){return"\t"},"%u":function(e){return e.Ad||7},"%U":function(e){var t=new Date(e.Rc+1900,0,1),n=0===t.getDay()?t:He(t,7-t.getDay());return 0>l(n,e=new Date(e.Rc+1900,e.hd,e.sd))?a(Math.ceil((31-n.getDate()+(Ae(Oe(e.getFullYear())?Ve:Ie,e.getMonth()-1)-31)+e.getDate())/7),2):0===l(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.Rc+1901,0,4),n=i(new Date(e.Rc+1900,0,4));t=i(t);var r=He(new Date(e.Rc+1900,0,1),e.Bd);return 0>l(r,n)?"53":0>=l(t,r)?"01":a(Math.ceil((n.getFullYear()<e.Rc+1900?e.Bd+32-n.getDate():e.Bd+1-n.getDate())/7),2)},"%w":function(e){return e.Ad},"%W":function(e){var t=new Date(e.Rc,0,1),n=1===t.getDay()?t:He(t,0===t.getDay()?1:7-t.getDay()+1);return 0>l(n,e=new Date(e.Rc+1900,e.hd,e.sd))?a(Math.ceil((31-n.getDate()+(Ae(Oe(e.getFullYear())?Ve:Ie,e.getMonth()-1)-31)+e.getDate())/7),2):0===l(n,t)?"01":"00"},"%y":function(e){return(e.Rc+1900).toString().substring(2)},"%Y":function(e){return e.Rc+1900},"%z":function(e){var t=0<=(e=e.Xe);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.$e},"%%":function(){return"%"}})n.includes(c)&&(n=n.replace(new RegExp(c,"g"),o[c](r)));return(c=je(n,!1)).length>t?0:(R.set(c,e),c.length-1)},k:function(e){if(_){if(!e)return 1;if(!(e=j(e)).length)return 0;return null===(e=n(3945).uf(e,[],{tf:!0,stdio:"inherit"})).status?(t=0,r=function(e){switch(e){case"SIGHUP":return 1;case"SIGQUIT":return 3;case"SIGFPE":return 8;case"SIGKILL":return 9;case"SIGALRM":return 14;case"SIGTERM":return 15}return 2}(e.signal),t<<8|r):e.status<<8|0}var t,r;return e?(A[ze()>>2]=52,-1):0},b:function(e){var t=Date.now()/1e3|0;return e&&(A[e>>2]=t),t}};!function(){function e(e){t.asm=e.exports,x=t.asm.G,Y(),J=t.asm.eb,$.unshift(t.asm.H),le()}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||p)){if("function"==typeof fetch&&!X.startsWith("file://"))return fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch((function(){return ce()}));if(c)return new Promise((function(e,t){c(X,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ce()}))}().then((function(e){return WebAssembly.instantiate(e,a)})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),ie(e)}))}var a={a:Ce};if(ae(),t.instantiateWasm)try{return t.instantiateWasm(a,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||se()||X.startsWith("file://")||"function"!=typeof fetch?r(n):fetch(X,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(u)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.H).apply(null,arguments)},t._lua_checkstack=function(){return(t._lua_checkstack=t.asm.I).apply(null,arguments)},t._lua_xmove=function(){return(t._lua_xmove=t.asm.J).apply(null,arguments)},t._lua_atpanic=function(){return(t._lua_atpanic=t.asm.K).apply(null,arguments)},t._lua_version=function(){return(t._lua_version=t.asm.L).apply(null,arguments)},t._lua_absindex=function(){return(t._lua_absindex=t.asm.M).apply(null,arguments)},t._lua_gettop=function(){return(t._lua_gettop=t.asm.N).apply(null,arguments)},t._lua_settop=function(){return(t._lua_settop=t.asm.O).apply(null,arguments)},t._lua_closeslot=function(){return(t._lua_closeslot=t.asm.P).apply(null,arguments)},t._lua_rotate=function(){return(t._lua_rotate=t.asm.Q).apply(null,arguments)},t._lua_copy=function(){return(t._lua_copy=t.asm.R).apply(null,arguments)},t._lua_pushvalue=function(){return(t._lua_pushvalue=t.asm.S).apply(null,arguments)},t._lua_type=function(){return(t._lua_type=t.asm.T).apply(null,arguments)},t._lua_typename=function(){return(t._lua_typename=t.asm.U).apply(null,arguments)},t._lua_iscfunction=function(){return(t._lua_iscfunction=t.asm.V).apply(null,arguments)},t._lua_isinteger=function(){return(t._lua_isinteger=t.asm.W).apply(null,arguments)},t._lua_isnumber=function(){return(t._lua_isnumber=t.asm.X).apply(null,arguments)},t._lua_isstring=function(){return(t._lua_isstring=t.asm.Y).apply(null,arguments)},t._lua_isuserdata=function(){return(t._lua_isuserdata=t.asm.Z).apply(null,arguments)},t._lua_rawequal=function(){return(t._lua_rawequal=t.asm._).apply(null,arguments)},t._lua_arith=function(){return(t._lua_arith=t.asm.$).apply(null,arguments)},t._lua_compare=function(){return(t._lua_compare=t.asm.aa).apply(null,arguments)},t._lua_stringtonumber=function(){return(t._lua_stringtonumber=t.asm.ba).apply(null,arguments)},t._lua_tonumberx=function(){return(t._lua_tonumberx=t.asm.ca).apply(null,arguments)},t._lua_tointegerx=function(){return(t._lua_tointegerx=t.asm.da).apply(null,arguments)},t._lua_toboolean=function(){return(t._lua_toboolean=t.asm.ea).apply(null,arguments)},t._lua_tolstring=function(){return(t._lua_tolstring=t.asm.fa).apply(null,arguments)},t._lua_rawlen=function(){return(t._lua_rawlen=t.asm.ga).apply(null,arguments)},t._lua_tocfunction=function(){return(t._lua_tocfunction=t.asm.ha).apply(null,arguments)},t._lua_touserdata=function(){return(t._lua_touserdata=t.asm.ia).apply(null,arguments)},t._lua_tothread=function(){return(t._lua_tothread=t.asm.ja).apply(null,arguments)},t._lua_topointer=function(){return(t._lua_topointer=t.asm.ka).apply(null,arguments)},t._lua_pushnil=function(){return(t._lua_pushnil=t.asm.la).apply(null,arguments)},t._lua_pushnumber=function(){return(t._lua_pushnumber=t.asm.ma).apply(null,arguments)},t._lua_pushinteger=function(){return(t._lua_pushinteger=t.asm.na).apply(null,arguments)},t._lua_pushlstring=function(){return(t._lua_pushlstring=t.asm.oa).apply(null,arguments)},t._lua_pushstring=function(){return(t._lua_pushstring=t.asm.pa).apply(null,arguments)},t._lua_pushcclosure=function(){return(t._lua_pushcclosure=t.asm.qa).apply(null,arguments)},t._lua_pushboolean=function(){return(t._lua_pushboolean=t.asm.ra).apply(null,arguments)},t._lua_pushlightuserdata=function(){return(t._lua_pushlightuserdata=t.asm.sa).apply(null,arguments)},t._lua_pushthread=function(){return(t._lua_pushthread=t.asm.ta).apply(null,arguments)},t._lua_getglobal=function(){return(t._lua_getglobal=t.asm.ua).apply(null,arguments)},t._lua_gettable=function(){return(t._lua_gettable=t.asm.va).apply(null,arguments)},t._lua_getfield=function(){return(t._lua_getfield=t.asm.wa).apply(null,arguments)},t._lua_geti=function(){return(t._lua_geti=t.asm.xa).apply(null,arguments)},t._lua_rawget=function(){return(t._lua_rawget=t.asm.ya).apply(null,arguments)},t._lua_rawgeti=function(){return(t._lua_rawgeti=t.asm.za).apply(null,arguments)},t._lua_rawgetp=function(){return(t._lua_rawgetp=t.asm.Aa).apply(null,arguments)},t._lua_createtable=function(){return(t._lua_createtable=t.asm.Ba).apply(null,arguments)},t._lua_getmetatable=function(){return(t._lua_getmetatable=t.asm.Ca).apply(null,arguments)},t._lua_getiuservalue=function(){return(t._lua_getiuservalue=t.asm.Da).apply(null,arguments)},t._lua_setglobal=function(){return(t._lua_setglobal=t.asm.Ea).apply(null,arguments)},t._lua_settable=function(){return(t._lua_settable=t.asm.Fa).apply(null,arguments)},t._lua_setfield=function(){return(t._lua_setfield=t.asm.Ga).apply(null,arguments)},t._lua_seti=function(){return(t._lua_seti=t.asm.Ha).apply(null,arguments)},t._lua_rawset=function(){return(t._lua_rawset=t.asm.Ia).apply(null,arguments)},t._lua_rawsetp=function(){return(t._lua_rawsetp=t.asm.Ja).apply(null,arguments)},t._lua_rawseti=function(){return(t._lua_rawseti=t.asm.Ka).apply(null,arguments)},t._lua_setmetatable=function(){return(t._lua_setmetatable=t.asm.La).apply(null,arguments)},t._lua_setiuservalue=function(){return(t._lua_setiuservalue=t.asm.Ma).apply(null,arguments)},t._lua_callk=function(){return(t._lua_callk=t.asm.Na).apply(null,arguments)},t._lua_pcallk=function(){return(t._lua_pcallk=t.asm.Oa).apply(null,arguments)},t._lua_load=function(){return(t._lua_load=t.asm.Pa).apply(null,arguments)},t._lua_dump=function(){return(t._lua_dump=t.asm.Qa).apply(null,arguments)},t._lua_status=function(){return(t._lua_status=t.asm.Ra).apply(null,arguments)},t._lua_error=function(){return(t._lua_error=t.asm.Sa).apply(null,arguments)},t._lua_next=function(){return(t._lua_next=t.asm.Ta).apply(null,arguments)},t._lua_toclose=function(){return(t._lua_toclose=t.asm.Ua).apply(null,arguments)},t._lua_concat=function(){return(t._lua_concat=t.asm.Va).apply(null,arguments)},t._lua_len=function(){return(t._lua_len=t.asm.Wa).apply(null,arguments)},t._lua_getallocf=function(){return(t._lua_getallocf=t.asm.Xa).apply(null,arguments)},t._lua_setallocf=function(){return(t._lua_setallocf=t.asm.Ya).apply(null,arguments)},t._lua_setwarnf=function(){return(t._lua_setwarnf=t.asm.Za).apply(null,arguments)},t._lua_warning=function(){return(t._lua_warning=t.asm._a).apply(null,arguments)},t._lua_newuserdatauv=function(){return(t._lua_newuserdatauv=t.asm.$a).apply(null,arguments)},t._lua_getupvalue=function(){return(t._lua_getupvalue=t.asm.ab).apply(null,arguments)},t._lua_setupvalue=function(){return(t._lua_setupvalue=t.asm.bb).apply(null,arguments)},t._lua_upvalueid=function(){return(t._lua_upvalueid=t.asm.cb).apply(null,arguments)},t._lua_upvaluejoin=function(){return(t._lua_upvaluejoin=t.asm.db).apply(null,arguments)},t._luaL_traceback=function(){return(t._luaL_traceback=t.asm.fb).apply(null,arguments)},t._lua_getstack=function(){return(t._lua_getstack=t.asm.gb).apply(null,arguments)},t._lua_getinfo=function(){return(t._lua_getinfo=t.asm.hb).apply(null,arguments)},t._luaL_buffinit=function(){return(t._luaL_buffinit=t.asm.ib).apply(null,arguments)},t._luaL_addstring=function(){return(t._luaL_addstring=t.asm.jb).apply(null,arguments)},t._luaL_prepbuffsize=function(){return(t._luaL_prepbuffsize=t.asm.kb).apply(null,arguments)},t._luaL_addvalue=function(){return(t._luaL_addvalue=t.asm.lb).apply(null,arguments)},t._luaL_pushresult=function(){return(t._luaL_pushresult=t.asm.mb).apply(null,arguments)},t._luaL_argerror=function(){return(t._luaL_argerror=t.asm.nb).apply(null,arguments)},t._luaL_typeerror=function(){return(t._luaL_typeerror=t.asm.ob).apply(null,arguments)},t._luaL_getmetafield=function(){return(t._luaL_getmetafield=t.asm.pb).apply(null,arguments)},t._luaL_where=function(){return(t._luaL_where=t.asm.qb).apply(null,arguments)},t._luaL_fileresult=function(){return(t._luaL_fileresult=t.asm.rb).apply(null,arguments)};var ze=t.___errno_location=function(){return(ze=t.___errno_location=t.asm.sb).apply(null,arguments)};t._luaL_execresult=function(){return(t._luaL_execresult=t.asm.tb).apply(null,arguments)},t._luaL_newmetatable=function(){return(t._luaL_newmetatable=t.asm.ub).apply(null,arguments)},t._luaL_setmetatable=function(){return(t._luaL_setmetatable=t.asm.vb).apply(null,arguments)},t._luaL_testudata=function(){return(t._luaL_testudata=t.asm.wb).apply(null,arguments)},t._luaL_checkudata=function(){return(t._luaL_checkudata=t.asm.xb).apply(null,arguments)},t._luaL_optlstring=function(){return(t._luaL_optlstring=t.asm.yb).apply(null,arguments)},t._luaL_checklstring=function(){return(t._luaL_checklstring=t.asm.zb).apply(null,arguments)},t._luaL_checkstack=function(){return(t._luaL_checkstack=t.asm.Ab).apply(null,arguments)},t._luaL_checktype=function(){return(t._luaL_checktype=t.asm.Bb).apply(null,arguments)},t._luaL_checkany=function(){return(t._luaL_checkany=t.asm.Cb).apply(null,arguments)},t._luaL_checknumber=function(){return(t._luaL_checknumber=t.asm.Db).apply(null,arguments)},t._luaL_optnumber=function(){return(t._luaL_optnumber=t.asm.Eb).apply(null,arguments)},t._luaL_checkinteger=function(){return(t._luaL_checkinteger=t.asm.Fb).apply(null,arguments)},t._luaL_optinteger=function(){return(t._luaL_optinteger=t.asm.Gb).apply(null,arguments)},t._luaL_setfuncs=function(){return(t._luaL_setfuncs=t.asm.Hb).apply(null,arguments)},t._luaL_addlstring=function(){return(t._luaL_addlstring=t.asm.Ib).apply(null,arguments)},t._luaL_pushresultsize=function(){return(t._luaL_pushresultsize=t.asm.Jb).apply(null,arguments)},t._luaL_buffinitsize=function(){return(t._luaL_buffinitsize=t.asm.Kb).apply(null,arguments)},t._luaL_ref=function(){return(t._luaL_ref=t.asm.Lb).apply(null,arguments)},t._luaL_unref=function(){return(t._luaL_unref=t.asm.Mb).apply(null,arguments)},t._luaL_loadfilex=function(){return(t._luaL_loadfilex=t.asm.Nb).apply(null,arguments)},t._luaL_loadbufferx=function(){return(t._luaL_loadbufferx=t.asm.Ob).apply(null,arguments)},t._luaL_loadstring=function(){return(t._luaL_loadstring=t.asm.Pb).apply(null,arguments)},t._luaL_callmeta=function(){return(t._luaL_callmeta=t.asm.Qb).apply(null,arguments)},t._luaL_len=function(){return(t._luaL_len=t.asm.Rb).apply(null,arguments)},t._luaL_tolstring=function(){return(t._luaL_tolstring=t.asm.Sb).apply(null,arguments)},t._luaL_getsubtable=function(){return(t._luaL_getsubtable=t.asm.Tb).apply(null,arguments)},t._luaL_requiref=function(){return(t._luaL_requiref=t.asm.Ub).apply(null,arguments)},t._luaL_addgsub=function(){return(t._luaL_addgsub=t.asm.Vb).apply(null,arguments)},t._luaL_gsub=function(){return(t._luaL_gsub=t.asm.Wb).apply(null,arguments)},t._luaL_newstate=function(){return(t._luaL_newstate=t.asm.Xb).apply(null,arguments)},t._lua_newstate=function(){return(t._lua_newstate=t.asm.Yb).apply(null,arguments)},t._free=function(){return(t._free=t.asm.Zb).apply(null,arguments)},t._realloc=function(){return(t._realloc=t.asm._b).apply(null,arguments)},t._luaL_checkversion_=function(){return(t._luaL_checkversion_=t.asm.$b).apply(null,arguments)},t._luaopen_base=function(){return(t._luaopen_base=t.asm.ac).apply(null,arguments)},t._luaopen_coroutine=function(){return(t._luaopen_coroutine=t.asm.bc).apply(null,arguments)},t._lua_newthread=function(){return(t._lua_newthread=t.asm.cc).apply(null,arguments)},t._lua_yieldk=function(){return(t._lua_yieldk=t.asm.dc).apply(null,arguments)},t._lua_isyieldable=function(){return(t._lua_isyieldable=t.asm.ec).apply(null,arguments)},t._lua_resetthread=function(){return(t._lua_resetthread=t.asm.fc).apply(null,arguments)},t._lua_resume=function(){return(t._lua_resume=t.asm.gc).apply(null,arguments)},t._luaopen_debug=function(){return(t._luaopen_debug=t.asm.hc).apply(null,arguments)},t._lua_gethookmask=function(){return(t._lua_gethookmask=t.asm.ic).apply(null,arguments)},t._lua_gethook=function(){return(t._lua_gethook=t.asm.jc).apply(null,arguments)},t._lua_gethookcount=function(){return(t._lua_gethookcount=t.asm.kc).apply(null,arguments)},t._lua_getlocal=function(){return(t._lua_getlocal=t.asm.lc).apply(null,arguments)},t._lua_sethook=function(){return(t._lua_sethook=t.asm.mc).apply(null,arguments)},t._lua_setlocal=function(){return(t._lua_setlocal=t.asm.nc).apply(null,arguments)},t._lua_setcstacklimit=function(){return(t._lua_setcstacklimit=t.asm.oc).apply(null,arguments)};var Ne=t._malloc=function(){return(Ne=t._malloc=t.asm.pc).apply(null,arguments)};t._luaL_openlibs=function(){return(t._luaL_openlibs=t.asm.qc).apply(null,arguments)},t._luaopen_package=function(){return(t._luaopen_package=t.asm.rc).apply(null,arguments)},t._luaopen_table=function(){return(t._luaopen_table=t.asm.sc).apply(null,arguments)},t._luaopen_io=function(){return(t._luaopen_io=t.asm.tc).apply(null,arguments)},t._luaopen_os=function(){return(t._luaopen_os=t.asm.uc).apply(null,arguments)},t._luaopen_string=function(){return(t._luaopen_string=t.asm.vc).apply(null,arguments)},t._luaopen_math=function(){return(t._luaopen_math=t.asm.wc).apply(null,arguments)},t._luaopen_utf8=function(){return(t._luaopen_utf8=t.asm.xc).apply(null,arguments)},t._lua_close=function(){return(t._lua_close=t.asm.yc).apply(null,arguments)};var Ye,Je=t.__get_tzname=function(){return(Je=t.__get_tzname=t.asm.zc).apply(null,arguments)},We=t.__get_daylight=function(){return(We=t.__get_daylight=t.asm.Ac).apply(null,arguments)},$e=t.__get_timezone=function(){return($e=t.__get_timezone=t.asm.Bc).apply(null,arguments)},Be=t.stackSave=function(){return(Be=t.stackSave=t.asm.Cc).apply(null,arguments)},qe=t.stackRestore=function(){return(qe=t.stackRestore=t.asm.Dc).apply(null,arguments)},Ke=t.stackAlloc=function(){return(Ke=t.stackAlloc=t.asm.Ec).apply(null,arguments)},Xe=t._setThrew=function(){return(Xe=t._setThrew=t.asm.Fc).apply(null,arguments)};function Qe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Ze(){function e(){if(!Ye&&(Ye=!0,t.calledRun=!0,!M)){if(t.noFSInit||Me.ld.Ld||Me.ld(),Me.ke=!1,de($),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();B.unshift(e)}de(B)}}if(!(0<re)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)K();de(W),0<re||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.cwrap=function(e,t,n,r){var u=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&u&&!r?G(e):function(){return S(e,t,n,arguments)}},t.setValue=function(e,t,n){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":R[e>>0]=t;break;case"i16":O[e>>1]=t;break;case"i32":A[e>>2]=t;break;case"i64":Z=[t>>>0,(Q=t,1<=+Math.abs(Q)?0<Q?(0|Math.min(+Math.floor(Q/4294967296),4294967295))>>>0:~~+Math.ceil((Q-+(~~Q>>>0))/4294967296)>>>0:0)],A[e>>2]=Z[0],A[e+4>>2]=Z[1];break;case"float":V[e>>2]=t;break;case"double":I[e>>3]=t;break;default:ie("invalid type for setValue: "+n)}},t.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return R[e>>0];case"i16":return O[e>>1];case"i32":case"i64":return A[e>>2];case"float":return V[e>>2];case"double":return I[e>>3];default:ie("invalid type for getValue: "+t)}return null},t.addFunction=function(e,t){if(!y){y=new WeakMap;for(var n=0;n<J.length;n++){var r=J.get(n);r&&y.set(r,n)}}if(y.has(e))e=y.get(e);else{if(L.length)n=L.pop();else{try{J.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}n=J.length-1}try{J.set(n,e)}catch(i){if(!(i instanceof TypeError))throw i;if("function"==typeof WebAssembly.Function){var u={i:"i32",j:"i64",f:"f32",d:"f64"},a={parameters:[],results:"v"==t[0]?[]:[u[t[0]]]};for(r=1;r<t.length;++r)a.parameters.push(u[t[r]]);t=new WebAssembly.Function(a,e)}else{u=[1,0,1,96],a=t.slice(0,1),t=t.slice(1);var l={i:127,j:126,f:125,d:124};for(u.push(t.length),r=0;r<t.length;++r)u.push(l[t[r]]);"v"==a?u.push(0):u=u.concat([1,l[a]]),u[1]=u.length-2,t=new Uint8Array([0,97,115,109,1,0,0,0].concat(u,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),t=new WebAssembly.Module(t),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}J.set(n,t)}y.set(e,n),e=n}return e},t.removeFunction=function(e){y.delete(J.get(e)),L.push(e)},t.ENV=Re,t.FS=Me,ue=function e(){Ye||Ze(),Ye||(ue=e)},t.run=Ze,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return Ze(),e.ready});class S{constructor(e){this.referenceTracker=new WeakMap,this.referenceMap=new Map,this.availableReferences=[],this.module=e,this.luaL_checkversion_=this.module.cwrap("luaL_checkversion_",null,["number","number","number"]),this.luaL_getmetafield=this.module.cwrap("luaL_getmetafield","number",["number","number","string"]),this.luaL_callmeta=this.module.cwrap("luaL_callmeta","number",["number","number","string"]),this.luaL_tolstring=this.module.cwrap("luaL_tolstring","string",["number","number","number"]),this.luaL_argerror=this.module.cwrap("luaL_argerror","number",["number","number","string"]),this.luaL_typeerror=this.module.cwrap("luaL_typeerror","number",["number","number","string"]),this.luaL_checklstring=this.module.cwrap("luaL_checklstring","string",["number","number","number"]),this.luaL_optlstring=this.module.cwrap("luaL_optlstring","string",["number","number","string","number"]),this.luaL_checknumber=this.module.cwrap("luaL_checknumber","number",["number","number"]),this.luaL_optnumber=this.module.cwrap("luaL_optnumber","number",["number","number","number"]),this.luaL_checkinteger=this.module.cwrap("luaL_checkinteger","number",["number","number"]),this.luaL_optinteger=this.module.cwrap("luaL_optinteger","number",["number","number","number"]),this.luaL_checkstack=this.module.cwrap("luaL_checkstack",null,["number","number","string"]),this.luaL_checktype=this.module.cwrap("luaL_checktype",null,["number","number","number"]),this.luaL_checkany=this.module.cwrap("luaL_checkany",null,["number","number"]),this.luaL_newmetatable=this.module.cwrap("luaL_newmetatable","number",["number","string"]),this.luaL_setmetatable=this.module.cwrap("luaL_setmetatable",null,["number","string"]),this.luaL_testudata=this.module.cwrap("luaL_testudata","number",["number","number","string"]),this.luaL_checkudata=this.module.cwrap("luaL_checkudata","number",["number","number","string"]),this.luaL_where=this.module.cwrap("luaL_where",null,["number","number"]),this.luaL_fileresult=this.module.cwrap("luaL_fileresult","number",["number","number","string"]),this.luaL_execresult=this.module.cwrap("luaL_execresult","number",["number","number"]),this.luaL_ref=this.module.cwrap("luaL_ref","number",["number","number"]),this.luaL_unref=this.module.cwrap("luaL_unref",null,["number","number","number"]),this.luaL_loadfilex=this.module.cwrap("luaL_loadfilex","number",["number","string","string"]),this.luaL_loadbufferx=this.module.cwrap("luaL_loadbufferx","number",["number","string","number","string","string"]),this.luaL_loadstring=this.module.cwrap("luaL_loadstring","number",["number","string"]),this.luaL_newstate=this.module.cwrap("luaL_newstate","number",[]),this.luaL_len=this.module.cwrap("luaL_len","number",["number","number"]),this.luaL_addgsub=this.module.cwrap("luaL_addgsub",null,["number","string","string","string"]),this.luaL_gsub=this.module.cwrap("luaL_gsub","string",["number","string","string","string"]),this.luaL_setfuncs=this.module.cwrap("luaL_setfuncs",null,["number","number","number"]),this.luaL_getsubtable=this.module.cwrap("luaL_getsubtable","number",["number","number","string"]),this.luaL_traceback=this.module.cwrap("luaL_traceback",null,["number","number","string","number"]),this.luaL_requiref=this.module.cwrap("luaL_requiref",null,["number","string","number","number"]),this.luaL_buffinit=this.module.cwrap("luaL_buffinit",null,["number","number"]),this.luaL_prepbuffsize=this.module.cwrap("luaL_prepbuffsize","string",["number","number"]),this.luaL_addlstring=this.module.cwrap("luaL_addlstring",null,["number","string","number"]),this.luaL_addstring=this.module.cwrap("luaL_addstring",null,["number","string"]),this.luaL_addvalue=this.module.cwrap("luaL_addvalue",null,["number"]),this.luaL_pushresult=this.module.cwrap("luaL_pushresult",null,["number"]),this.luaL_pushresultsize=this.module.cwrap("luaL_pushresultsize",null,["number","number"]),this.luaL_buffinitsize=this.module.cwrap("luaL_buffinitsize","string",["number","number","number"]),this.lua_newstate=this.module.cwrap("lua_newstate","number",["number","number"]),this.lua_close=this.module.cwrap("lua_close",null,["number"]),this.lua_newthread=this.module.cwrap("lua_newthread","number",["number"]),this.lua_resetthread=this.module.cwrap("lua_resetthread","number",["number"]),this.lua_atpanic=this.module.cwrap("lua_atpanic","number",["number","number"]),this.lua_version=this.module.cwrap("lua_version","number",["number"]),this.lua_absindex=this.module.cwrap("lua_absindex","number",["number","number"]),this.lua_gettop=this.module.cwrap("lua_gettop","number",["number"]),this.lua_settop=this.module.cwrap("lua_settop",null,["number","number"]),this.lua_pushvalue=this.module.cwrap("lua_pushvalue",null,["number","number"]),this.lua_rotate=this.module.cwrap("lua_rotate",null,["number","number","number"]),this.lua_copy=this.module.cwrap("lua_copy",null,["number","number","number"]),this.lua_checkstack=this.module.cwrap("lua_checkstack","number",["number","number"]),this.lua_xmove=this.module.cwrap("lua_xmove",null,["number","number","number"]),this.lua_isnumber=this.module.cwrap("lua_isnumber","number",["number","number"]),this.lua_isstring=this.module.cwrap("lua_isstring","number",["number","number"]),this.lua_iscfunction=this.module.cwrap("lua_iscfunction","number",["number","number"]),this.lua_isinteger=this.module.cwrap("lua_isinteger","number",["number","number"]),this.lua_isuserdata=this.module.cwrap("lua_isuserdata","number",["number","number"]),this.lua_type=this.module.cwrap("lua_type","number",["number","number"]),this.lua_typename=this.module.cwrap("lua_typename","string",["number","number"]),this.lua_tonumberx=this.module.cwrap("lua_tonumberx","number",["number","number","number"]),this.lua_tointegerx=this.module.cwrap("lua_tointegerx","number",["number","number","number"]),this.lua_toboolean=this.module.cwrap("lua_toboolean","number",["number","number"]),this.lua_tolstring=this.module.cwrap("lua_tolstring","string",["number","number","number"]),this.lua_rawlen=this.module.cwrap("lua_rawlen","number",["number","number"]),this.lua_tocfunction=this.module.cwrap("lua_tocfunction","number",["number","number"]),this.lua_touserdata=this.module.cwrap("lua_touserdata","number",["number","number"]),this.lua_tothread=this.module.cwrap("lua_tothread","number",["number","number"]),this.lua_topointer=this.module.cwrap("lua_topointer","number",["number","number"]),this.lua_arith=this.module.cwrap("lua_arith",null,["number","number"]),this.lua_rawequal=this.module.cwrap("lua_rawequal","number",["number","number","number"]),this.lua_compare=this.module.cwrap("lua_compare","number",["number","number","number","number"]),this.lua_pushnil=this.module.cwrap("lua_pushnil",null,["number"]),this.lua_pushnumber=this.module.cwrap("lua_pushnumber",null,["number","number"]),this.lua_pushinteger=this.module.cwrap("lua_pushinteger",null,["number","number"]),this.lua_pushlstring=this.module.cwrap("lua_pushlstring","string",["number","string","number"]),this.lua_pushstring=this.module.cwrap("lua_pushstring","string",["number","string"]),this.lua_pushcclosure=this.module.cwrap("lua_pushcclosure",null,["number","number","number"]),this.lua_pushboolean=this.module.cwrap("lua_pushboolean",null,["number","number"]),this.lua_pushlightuserdata=this.module.cwrap("lua_pushlightuserdata",null,["number","number"]),this.lua_pushthread=this.module.cwrap("lua_pushthread","number",["number"]),this.lua_getglobal=this.module.cwrap("lua_getglobal","number",["number","string"]),this.lua_gettable=this.module.cwrap("lua_gettable","number",["number","number"]),this.lua_getfield=this.module.cwrap("lua_getfield","number",["number","number","string"]),this.lua_geti=this.module.cwrap("lua_geti","number",["number","number","number"]),this.lua_rawget=this.module.cwrap("lua_rawget","number",["number","number"]),this.lua_rawgeti=this.module.cwrap("lua_rawgeti","number",["number","number","number"]),this.lua_rawgetp=this.module.cwrap("lua_rawgetp","number",["number","number","number"]),this.lua_createtable=this.module.cwrap("lua_createtable",null,["number","number","number"]),this.lua_newuserdatauv=this.module.cwrap("lua_newuserdatauv","number",["number","number","number"]),this.lua_getmetatable=this.module.cwrap("lua_getmetatable","number",["number","number"]),this.lua_getiuservalue=this.module.cwrap("lua_getiuservalue","number",["number","number","number"]),this.lua_setglobal=this.module.cwrap("lua_setglobal",null,["number","string"]),this.lua_settable=this.module.cwrap("lua_settable",null,["number","number"]),this.lua_setfield=this.module.cwrap("lua_setfield",null,["number","number","string"]),this.lua_seti=this.module.cwrap("lua_seti",null,["number","number","number"]),this.lua_rawset=this.module.cwrap("lua_rawset",null,["number","number"]),this.lua_rawseti=this.module.cwrap("lua_rawseti",null,["number","number","number"]),this.lua_rawsetp=this.module.cwrap("lua_rawsetp",null,["number","number","number"]),this.lua_setmetatable=this.module.cwrap("lua_setmetatable","number",["number","number"]),this.lua_setiuservalue=this.module.cwrap("lua_setiuservalue","number",["number","number","number"]),this.lua_callk=this.module.cwrap("lua_callk",null,["number","number","number","number","number"]),this.lua_pcallk=this.module.cwrap("lua_pcallk","number",["number","number","number","number","number","number"]),this.lua_load=this.module.cwrap("lua_load","number",["number","number","number","string","string"]),this.lua_dump=this.module.cwrap("lua_dump","number",["number","number","number","number"]),this.lua_yieldk=this.module.cwrap("lua_yieldk","number",["number","number","number","number"]),this.lua_resume=this.module.cwrap("lua_resume","number",["number","number","number","number"]),this.lua_status=this.module.cwrap("lua_status","number",["number"]),this.lua_isyieldable=this.module.cwrap("lua_isyieldable","number",["number"]),this.lua_setwarnf=this.module.cwrap("lua_setwarnf",null,["number","number","number"]),this.lua_warning=this.module.cwrap("lua_warning",null,["number","string","number"]),this.lua_error=this.module.cwrap("lua_error","number",["number"]),this.lua_next=this.module.cwrap("lua_next","number",["number","number"]),this.lua_concat=this.module.cwrap("lua_concat",null,["number","number"]),this.lua_len=this.module.cwrap("lua_len",null,["number","number"]),this.lua_stringtonumber=this.module.cwrap("lua_stringtonumber","number",["number","string"]),this.lua_getallocf=this.module.cwrap("lua_getallocf","number",["number","number"]),this.lua_setallocf=this.module.cwrap("lua_setallocf",null,["number","number","number"]),this.lua_toclose=this.module.cwrap("lua_toclose",null,["number","number"]),this.lua_closeslot=this.module.cwrap("lua_closeslot",null,["number","number"]),this.lua_getstack=this.module.cwrap("lua_getstack","number",["number","number","number"]),this.lua_getinfo=this.module.cwrap("lua_getinfo","number",["number","string","number"]),this.lua_getlocal=this.module.cwrap("lua_getlocal","string",["number","number","number"]),this.lua_setlocal=this.module.cwrap("lua_setlocal","string",["number","number","number"]),this.lua_getupvalue=this.module.cwrap("lua_getupvalue","string",["number","number","number"]),this.lua_setupvalue=this.module.cwrap("lua_setupvalue","string",["number","number","number"]),this.lua_upvalueid=this.module.cwrap("lua_upvalueid","number",["number","number","number"]),this.lua_upvaluejoin=this.module.cwrap("lua_upvaluejoin",null,["number","number","number","number","number"]),this.lua_sethook=this.module.cwrap("lua_sethook",null,["number","number","number","number"]),this.lua_gethook=this.module.cwrap("lua_gethook","number",["number"]),this.lua_gethookmask=this.module.cwrap("lua_gethookmask","number",["number"]),this.lua_gethookcount=this.module.cwrap("lua_gethookcount","number",["number"]),this.lua_setcstacklimit=this.module.cwrap("lua_setcstacklimit","number",["number","number"]),this.luaopen_base=this.module.cwrap("luaopen_base","number",["number"]),this.luaopen_coroutine=this.module.cwrap("luaopen_coroutine","number",["number"]),this.luaopen_table=this.module.cwrap("luaopen_table","number",["number"]),this.luaopen_io=this.module.cwrap("luaopen_io","number",["number"]),this.luaopen_os=this.module.cwrap("luaopen_os","number",["number"]),this.luaopen_string=this.module.cwrap("luaopen_string","number",["number"]),this.luaopen_utf8=this.module.cwrap("luaopen_utf8","number",["number"]),this.luaopen_math=this.module.cwrap("luaopen_math","number",["number"]),this.luaopen_debug=this.module.cwrap("luaopen_debug","number",["number"]),this.luaopen_package=this.module.cwrap("luaopen_package","number",["number"]),this.luaL_openlibs=this.module.cwrap("luaL_openlibs",null,["number"])}static initialize(e,n){return t(this,void 0,void 0,(function*(){const t=yield G({print:console.log,printErr:console.error,locateFile:(t,n)=>e||n+t,preRun:e=>{"object"==typeof n&&Object.entries(n).forEach((([t,n])=>e.ENV[t]=n))}});return new S(t)}))}lua_remove(e,t){this.lua_rotate(e,t,-1),this.lua_pop(e,1)}lua_pop(e,t){this.lua_settop(e,-t-1)}luaL_getmetatable(e,t){return this.lua_getfield(e,a,t)}lua_yield(e,t){return this.lua_yieldk(e,t,0,null)}lua_upvalueindex(e){return a-e}ref(e){const t=this.referenceTracker.get(e);if(t)return t.refCount++,t.index;const n=this.availableReferences.pop(),r=void 0===n?this.referenceMap.size+1:n;return this.referenceMap.set(r,e),this.referenceTracker.set(e,{refCount:1,index:r}),r}unref(e){const t=this.referenceMap.get(e);if(void 0===t)return;const n=this.referenceTracker.get(t);if(void 0===n)return this.referenceTracker.delete(t),void this.availableReferences.push(e);n.refCount--,n.refCount<=0&&(this.referenceTracker.delete(t),this.referenceMap.delete(e),this.availableReferences.push(e))}getRef(e){return this.referenceMap.get(e)}}e.LUAI_MAXSTACK=u,e.LUA_MULTRET=-1,e.LUA_REGISTRYINDEX=a,e.LuaEngine=F,e.LuaFactory=class{constructor(e,t){this.customWasmUri=e,this.environmentVariables=t,void 0===this.customWasmUri&&"undefined"!=typeof window&&void 0!==window.document&&(this.customWasmUri="http://unpkg.com/wasmoon/dist/glue.wasm")}mountFile(e,n){return t(this,void 0,void 0,(function*(){yield this.getLuaModule(),this.mountFileSync(e,n)}))}mountFileSync(e,t){if(!this.lua)throw new Error("Module is not initialized, instead call 'mountFile' to ensure initialization");const n=e.lastIndexOf("/"),r=e.substr(n+1),u=e.substr(0,e.length-r.length-1);if(u.length>0){const e=u.split("/").reverse();let t="";for(;e.length;){const n=e.pop();if(!n)continue;const r=`${t}/${n}`;try{this.lua.module.FS.mkdir(r)}catch(e){}t=r}}this.lua.module.FS.writeFile(e,t)}createEngine(e){return t(this,void 0,void 0,(function*(){return new F(yield this.getLuaModule(),e)}))}getLuaModule(){return t(this,void 0,void 0,(function*(){return this.lua||(this.lua=yield S.initialize(this.customWasmUri,this.environmentVariables)),this.lua}))}},e.LuaGlobal=p,e.LuaMultiReturn=f,e.LuaRawResult=g,e.LuaThread=m,e.LuaTimeoutError=c,e.LuaTypeExtension=_,e.LuaWasm=S,e.PointerSize=4,e.decorate=function(e,t){return new d(e,t)},e.decorateFunction=w,e.decorateProxy=L,e.decorateUserData=function(e){return new d(e,{reference:!0})},Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);